扫地机器人:
  triggers_update:
    - '[[[ return variables.扫地机器人 ?? ""]]]'
    - '[[[ return variables.充电状态 ?? ""]]]'
    - '[[[ return variables.回充 ?? ""]]]'
    - '[[[ return variables.定位 ?? ""]]]'
    - '[[[ return variables.清扫模式 ?? ""]]]'
    - '[[[ return variables.出水量 ?? ""]]]'
    - '[[[ return variables.语音音量 ?? ""]]]'
    - '[[[ return variables.地毯增压 ?? ""]]]'
    - '[[[ return variables.断点续扫 ?? ""]]]'
    - '[[[ return variables.滤芯剩余百分比 ?? ""]]]'
    - '[[[ return variables.滤芯剩余时间 ?? ""]]]'
    - '[[[ return variables.滤芯重置 ?? ""]]]'
    - '[[[ return variables.主刷剩余百分比 ?? ""]]]'
    - '[[[ return variables.主刷剩余时间 ?? ""]]]'
    - '[[[ return variables.主刷重置 ?? ""]]]'
    - '[[[ return variables.边刷剩余百分比 ?? ""]]]'
    - '[[[ return variables.边刷剩余时间 ?? ""]]]'
    - '[[[ return variables.边刷重置 ?? ""]]]'
  styles:
    grid:   
      - function: | 
          [[[
              window.扫地机器人颜色 = "rgb(10,205,230)";  
              window.扫地机器人警告颜色 = "rgb(255,20,0)";
          ]]]
      - grid-template-areas: |
            "副背景1 主背景 主背景 主背景 主背景 主背景 主背景 主背景 主背景 副背景2"
            "副背景1   y   环背景 环背景 环背景 环背景 环背景 环背景   x    副背景2"
            "副背景1   y   渐变圆 渐变圆 渐变圆 渐变圆 渐变圆 渐变圆   x    副背景2"
            "副背景1   y   第一排 第一排 第一排 第一排 第一排 第一排   x    副背景2"
            "副背景1   y   第二排 第二排 第二排 第二排 第二排 第二排   x    副背景2"
            "副背景1   y   第三排 第三排 第三排 第三排 第三排 第三排   x    副背景2"
            "副背景1   y     z0   名称   名称   名称   名称   z3     x    副背景2"
            "副背景1   y     z0    z1    状态   状态    z2   z3     x    副背景2"
            "副背景1   y     z0    z1   主数值 主数值   z2    z3     x    副背景2"
            "副背景1   y     z0    z1   主数值 主数值  单位   z3     x    副背景2"
            "副背景1   y     z0   副数值 副数值 副数值 副数值  z3     x    副背景2"
            "副背景1   y     z0   减按钮 减按钮 加按钮 加按钮  z3     x    副背景2"
            "副背景1   y   按钮一 按钮一 按钮一 按钮一 按钮一 按钮一   x    副背景2"
            "副背景1   y   按钮二 按钮二 按钮二 按钮二 按钮二 按钮二   x    副背景2"
            "副背景1   y   按钮三 按钮三 按钮三 按钮三 按钮三 按钮三   x    副背景2"
      - grid-template-columns: 67px 18px 44px 44px 44px 44px 44px 44px 25px 67px
      - grid-template-rows: 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px
    card:
      - padding: 0
      - width: 470px
      - height: 505px
      - border-width: 0
      - background: rgb(0,0,0,0)
  custom_fields:
    主背景:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 505px
            - width: 300px
            - height: 505px
            - border-radius: 15px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(255,255,255)" : "rgb(50,50,50)" ]]]'
    环背景:
      card:
        type: custom:button-card
        styles: 
          card:
            - margin-top: 428px
            - border-width: 0
            - background: |
                [[[ 
                    var state = states[variables.扫地机器人]?.state;
                    if(state=='正在扫地' ) return 扫地机器人颜色;
                    if(state=='正在拖地' ) return 扫地机器人颜色;
                    return variables.主题 =="on" ? "rgb(200,200,200)" : "rgb(100,100,100)";
                ]]]
            - width: 300px
            - height: 264px
            - margin-left: 10px
            - clip-path: >-
                path('M224.1,121.4c0-1.8,0.1-3.5,0-5.3c-0.2-2.8-0.4-5.6-0.8-8.3c-0.6-4.4-1.5-8.8-2.6-13.1
                c-1.1-4.3-2.6-8.5-4.3-12.6c-2.4-5.9-5.3-11.5-8.8-16.8c-2.6-4-5.4-7.8-8.6-11.3c-2.2-2.5-4.4-4.9-6.8-7.2
                c-5.4-5.1-11.3-9.7-17.7-13.5c-6.4-3.8-13.1-7-20.2-9.4c-5.2-1.7-10.4-3-15.8-4c-2.4-0.4-4.8-0.7-7.2-1c-1-0.1-2.1-0.2-3.1-0.2
                c-3.2-0.2-6.5-0.5-9.7-0.2c-3.3,0.2-6.7,0.4-10,0.8c-7.2,0.9-14.2,2.5-21.1,4.9c-9,3.1-17.4,7.5-25.3,12.9c-3.2,2.2-6.3,4.6-9.2,7.2
                c-2.7,2.4-5.2,4.9-7.6,7.5C41,56.7,37.1,62,33.6,67.7c-1.5,2.5-3,5.1-4.3,7.7C25.6,83,22.7,90.9,21,99.2c-0.8,3.7-1.4,7.5-1.8,11.3
                c-0.2,2.2-0.3,4.5-0.5,6.7c-0.1,1.6-0.2,3.2-0.1,4.8c0.1,3.3,0.3,6.6,0.6,9.9c0.5,5.8,1.7,11.4,3.2,17c1.1,4.2,2.6,8.3,4.3,12.4
                c2.9,6.8,6.4,13.2,10.6,19.2c1.9,2.8,4,5.5,6.2,8c1.7,2,3.5,3.9,5.3,5.7c1.7,1.8,2.6,4,2.6,6.5c-0.1,5-4.1,8.8-8.4,9.1
                c-2.9,0.2-5.4-0.7-7.5-2.8c-6-6-11.3-12.5-15.9-19.6c-3.3-5.2-6.3-10.6-8.8-16.2c-2-4.4-3.7-8.9-5.2-13.5c-1.6-5-2.9-10.1-3.7-15.3
                c-0.5-3.3-1-6.5-1.3-9.8c-0.2-2.6-0.5-5.1-0.4-7.7c0-1-0.2-2.1-0.2-3.1c0.2-2.9,0.1-5.8,0.3-8.7c0.1-2.1,0.4-4.2,0.6-6.4
                c0.3-2.5,0.7-4.9,1.1-7.4c1-5.7,2.5-11.3,4.3-16.7c1.4-4.3,3.2-8.4,5-12.5c2.8-6.2,6.3-12.1,10.1-17.8c2.7-4,5.7-7.8,9-11.4
                c2-2.2,4-4.4,6.1-6.5c2.8-2.7,5.6-5.2,8.6-7.6c3-2.5,6.2-4.8,9.4-6.9c4.9-3.2,10-6.1,15.4-8.6c4.5-2.1,9-3.9,13.7-5.5
                c4.4-1.4,8.8-2.6,13.3-3.5c3.7-0.7,7.4-1.3,11.1-1.7c3.7-0.4,7.4-0.5,11.1-0.7c2.9-0.1,5.8,0.1,8.7,0.1c2.2,0,4.4,0.3,6.6,0.5
                c3.7,0.4,7.3,1,11,1.7c2.3,0.4,4.5,1,6.8,1.6c3.7,1,7.3,2.1,10.8,3.4c4.1,1.5,8.1,3.2,12,5.2c6,2.9,11.7,6.4,17.1,10.2
                c2.9,2.1,5.7,4.4,8.5,6.7c3.5,2.9,6.6,6.2,9.8,9.4c2,2.1,3.8,4.3,5.6,6.5c2.6,3.1,4.8,6.4,7,9.7c1.6,2.5,3.1,5,4.5,7.6
                c3.3,6.1,6.1,12.4,8.4,18.9c1.7,4.8,3.1,9.7,4.1,14.7c0.7,3.5,1.3,7,1.7,10.5c0.3,2.7,0.5,5.3,0.7,8c0.2,3.7,0.2,7.4,0.1,11.1
                c-0.1,3.2-0.4,6.4-0.8,9.5c-0.6,5.1-1.5,10.2-2.8,15.3c-1.3,5.2-3,10.3-5,15.3c-1.1,2.8-2.3,5.5-3.6,8.2c-1.8,3.7-3.7,7.2-5.9,10.7
                c-2.2,3.6-4.6,7.1-7.2,10.4c-1.6,2-3.2,4-4.9,5.9c-1.7,2-3.5,3.9-5.3,5.7c-3.1,3.2-8.1,3.6-11.8,1.1c-4.7-3.2-5.2-9.7-1.7-13.6
                c0.8-0.9,1.6-1.7,2.4-2.6c3.7-3.8,7-8,10.1-12.4c3.1-4.6,5.9-9.3,8.2-14.3c3.4-7.2,5.9-14.6,7.6-22.4c0.7-3.2,1.2-6.4,1.6-9.7
                c0.2-2,0.4-3.9,0.5-5.9C224.1,125.3,224.1,123.3,224.1,121.4C224.1,121.4,224.1,121.4,224.1,121.4z')
    渐变圆:
      card:
        type: custom:button-card
        styles: 
          card:
            - margin-top: 398px
            - border-width: 0
            - background: |
                [[[ 
                    var state = states[variables.扫地机器人]?.state;
                    if( state=='正在扫地') return "radial-gradient("+ 扫地机器人颜色 +" -20%, rgb(0,0,0,0) 50%)" ;
                    if( state=='正在拖地') return "radial-gradient("+ 扫地机器人颜色 +" -20%, rgb(0,0,0,0) 50%)" ;
                    return "rgb(0,0,0,0)" ;
                ]]]
            - width: 264px
            - height: 264px
    第一排:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 720px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
            - border-radius: 10px
    第二排:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 830px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
            - border-radius: 10px
    第三排:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 940px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
            - border-radius: 10px
    名称:
      card:
        type: custom:button-card
        label: '[[[ return states[variables.扫地机器人]?.attributes?.friendly_name ?? "名称" ]]]'
        show_label: true
        styles:
          card:
            - margin-top: 73px
            - border-width: 0
            - background: rgb(0,0,0,0)
          label:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - font-size: 19px
    状态 :
      card:
        type: custom:button-card
        label: |
          [[[ 
              var state = states[variables.扫地机器人]?.state ?? "离线";
              return state;
          ]]]
        show_label: true
        styles:
          card:
            - border-width: 0
            - background: rgb(0,0,0,0)
            - margin-top: 314px
          label:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - font-size: 15px
    副数值:
      card:
        type: custom:button-card
        layout: icon_name
        icon: mdi:volume-source
        name: '[[[ return Math.round(states[variables.语音音量]?.state,0)+" %vol" ]]]'
        show_name: true
        show_icon: true
        styles:
          card:
            - border-width: 0
            - background: rgb(0,0,0,0)
            - margin-top: 492px
            - width: 176px
          icon:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - width: 16px
            - height: 16px
            - margin-top: -2px
            - margin-left: 50px
          name:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - font-size: 16px
            - margin-left: -40px
    主数值:
      card:
        type: custom:button-card
        label: '[[[ return Math.round(states[variables.扫地机器人]?.attributes?.battery_level,0) ]]]'
        show_label: true
        styles:
          card:
            - border-width: 0
            - background: rgb(0,0,0,0)
            - margin-top: 405px
          label:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - font-size: 45px
    单位:
      card:
        type: custom:button-card
        label: "%电量"
        show_label: true
        styles:
          card:
            - border-width: 0
            - background: rgb(0,0,0,0)
            - margin-top: 423px
            - margin-left: -5px
          label:
            - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
            - font-size: 14px
    减按钮:
      card:
        type: custom:button-card
        icon: 'mdi:minus'
        styles:
          card:
            - margin-top: 580px
            - width: 50px
            - height: 50px
            - border-radius: 25px
            - border: '[[[ return variables.主题 =="on" ? "2px solid rgb(150,150,150)" : "2px solid rgb(180,180,180)" ]]]'
            - margin-left: '27px'
            - --mdc-ripple-color: white
            - --mdc-ripple-press-opacity: 0.3
            - background: rgb(0,0,0,0)
          icon:
            - width: 25px
            - height: 25px
            - color: '[[[ return variables.主题 =="on" ? "rgb(150,150,150)" : "rgb(180,180,180)"; ]]]'
        tap_action:
          action: call-service
          service: number.set_value
          data:
            value: |
              [[[ 
                  var volume = states[variables.语音音量]?.state ?? "10";
                  if (volume>=1 && volume<=5) return volume-1;
                  if (volume>5 ) return volume-5;
                  if (volume<=0 ) return volume;
              ]]]
          target:
            entity_id: '[[[ return  variables.语音音量 ?? ""]]]'
    加按钮:
      card:
        type: custom:button-card
        icon: 'mdi:plus'
        styles:
          card:
            - margin-top: 580px
            - width: 50px
            - height: 50px
            - border-radius: 25px
            - border: '[[[ return variables.主题 =="on" ? "2px solid rgb(150,150,150)" : "2px solid rgb(180,180,180)" ]]]'
            - margin-left: '12px'
            - --mdc-ripple-color: white
            - --mdc-ripple-press-opacity: 0.3 
            - background: rgb(0,0,0,0)
          icon:
            - width: 25px
            - height: 25px
            - color: '[[[ return variables.主题 =="on" ? "rgb(150,150,150)" : "rgb(180,180,180)"; ]]]'
        tap_action:
          action: call-service
          service: number.set_value
          data:
            value: |
              [[[ 
                  var volume = states[variables.语音音量]?.state ?? "10";
                  if (volume>=95 && volume<100) return volume-(-1);
                  if (volume<95 ) return volume-(-5);
                  if (volume>=100 ) return volume;
              ]]]
          target:
            entity_id: '[[[ return  variables.语音音量 ?? ""]]]'
    按钮一:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                'b1 b2 b3 b4' 
            - grid-template-columns: 25% 25% 25% 25%
            - grid-template-rows: 42px
          card:
            - padding: 0
            - margin-top: 720px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          b1:
            card:
              type: custom:button-card
              icon: mdi:play
              template: 扫地机器人控制
              variables:
                主题: '[[[ return variables.主题 ]]]'
                扫地机器人: '[[[ return variables.扫地机器人 ]]]'
              tap_action:
                action: call-service
                service: vacuum.start
                data: {}
                target: 
                  entity_id: '[[[ return  variables.扫地机器人 ?? ""]]]'
          b2:
            card:
              type: custom:button-card
              icon: mdi:stop
              template: 扫地机器人控制 
              variables:
                主题: '[[[ return variables.主题 ]]]'
                扫地机器人: '[[[ return variables.扫地机器人 ]]]'
              tap_action:
                action: call-service
                service: vacuum.stop
                data: {}
                target: 
                  entity_id: '[[[ return  variables.扫地机器人 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              icon: mdi:map-marker
              template: 扫地机器人控制
              variables:
                主题: '[[[ return variables.主题 ]]]'
                定位: '[[[ return variables.定位 ]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target:
                  entity_id: '[[[ return  variables.定位 ?? ""]]'
          b4:
            card:
              type: custom:button-card
              icon: mdi:home
              template: 扫地机器人控制
              variables:
                主题: '[[[ return variables.主题 ]]]'
                回充: '[[[ return variables.回充 ]]]'
              styles:
                card: 
                  - background: |
                      [[[
                           var state = states[variables.扫地机器人].state;  
                           if (state=="正在扫地") return "rgb(0,0,0,0)";
                           if (state=="正在拖地") return "rgb(0,0,0,0)";
                           return variables.主题 =="on" ? "rgb(180,180,180)" : "rgb(150,150,150)";
                      ]]]
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target:
                  entity_id: '[[[ return  variables.回充 ?? ""]]]'
    按钮二:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                'b1 b2 b3 b4' 
            - grid-template-columns: 25% 25% 25% 25%
            - grid-template-rows: 42px
          card:
            - padding: 0
            - margin-top: 830px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          b1:
            card:
              type: custom:button-card
              label: 安静
              template: 扫地机器人清扫模式
              variables:
                主题: '[[[ return variables.主题 ]]]'
                清扫模式: '[[[ return variables.清扫模式 ]]]'
                清扫模式2: '安静/静音'
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: "安静/静音"
                target: 
                  entity_id: '[[[ return  variables.清扫模式 ?? ""]]]'
          b2:
            card:
              type: custom:button-card
              label: 标准
              template: 扫地机器人清扫模式 
              variables:
                主题: '[[[ return variables.主题 ]]]'
                清扫模式: '[[[ return variables.清扫模式 ]]]'
                清扫模式2: "标准"
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: "标准"
                target: 
                  entity_id: '[[[ return  variables.清扫模式 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              label: 强力
              template: 扫地机器人清扫模式
              variables:
                主题: '[[[ return variables.主题 ]]]'
                清扫模式: '[[[ return variables.清扫模式 ]]]'
                清扫模式2: "强力"
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: "强力"
                target: 
                  entity_id: '[[[ return  variables.清扫模式 ?? ""]]]'
          b4:
            card:
              type: custom:button-card
              label: 超强
              template: 扫地机器人清扫模式
              variables:
                主题: '[[[ return variables.主题 ]]]'
                清扫模式: '[[[ return variables.清扫模式 ]]]'
                清扫模式2: "全速模式（Max）"
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: "全速模式（Max）"
                target: 
                  entity_id: '[[[ return  variables.清扫模式 ?? ""]]]'
    按钮三:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                'b1 b2 b3' 
            - grid-template-columns: 33.33% 33.33% 33.33% 
            - grid-template-rows: 42px
          card:
            - padding: 0
            - margin-top: 940px
            - width: 264px
            - height: 42px
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          b1:
            card:
              type: custom:button-card
              label: 低水量
              template: 扫地机器人出水量
              variables:
                主题: '[[[ return variables.主题 ]]]'
                出水量: '[[[ return variables.出水量 ]]]'
                出水量2: 1
              tap_action:
                action: call-service
                service: number.set_value
                data: 
                  value: "1"
                target: 
                  entity_id: '[[[ return  variables.出水量 ?? "" ]]]'
          b2:
            card:
              type: custom:button-card
              label: 中水量
              template: 扫地机器人出水量 
              variables:
                主题: '[[[ return variables.主题 ]]]'
                出水量: '[[[ return variables.出水量 ]]]'
                出水量2: 2
              tap_action:
                action: call-service
                service: number.set_value
                data: 
                  value: "2"
                target: 
                  entity_id: '[[[ return  variables.出水量 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              label: 高水量
              template: 扫地机器人出水量
              variables:
                主题: '[[[ return variables.主题 ]]]'
                出水量: '[[[ return variables.出水量 ]]]'
                出水量2: 3
              tap_action:
                action: call-service
                service: number.set_value
                data: 
                  value: "3"
                target: 
                  entity_id: '[[[ return  variables.出水量 ?? ""]]]'
    副背景1:
      card:
        type: custom:button-card
        styles: 
          grid:
            - grid-template-areas: |
                'b1' 'b2' 'b3' 'b4' 'b5' 'b6'
            - grid-template-columns: 60px
            - grid-template-rows: 0px 0px 0px 0px 0px 0px 0px
          card:
            - padding: 0
            - margin-top: 505px
            - width: 60px
            - height: 505px
            - border-radius: 15px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(255,255,255)" : "rgb(50,50,50)" ]]]'
        custom_fields:
          b1:
            card:
              type: custom:button-card
              show_label: true
              show_icon: false
              label: |
                [[[
                    var lvxin1= states[variables.滤芯剩余百分比]?.state;
                    var lvxin2= states[variables.滤芯剩余时间]?.state;
                    return "滤芯<br>"+lvxin1+"%<br>"+lvxin2+"h"
                ]]] 
              styles: 
                card:
                  - margin-top: 280px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
          b2: 
            card:
              type: custom:button-card 
              icon: mdi:gesture-tap-button
              show_icon: true
              show_label: true
              label: 重置
              styles:
                card:
                  - margin-top: 390px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
                icon:
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target: 
                  entity_id: '[[[ return  variables.滤芯重置 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              show_label: true
              show_icon: false
              label: |
                [[[
                    var lvxin1= states[variables.主刷剩余百分比]?.state;
                    var lvxin2= states[variables.主刷剩余时间]?.state;
                    return "主刷<br>"+lvxin1+"%<br>"+lvxin2+"h"
                ]]] 
              styles: 
                card:
                  - margin-top: 555px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
          b4:
            card:
              type: custom:button-card 
              icon: mdi:gesture-tap-button
              show_icon: true
              show_label: true
              label: 重置
              styles:
                card:
                  - margin-top: 665px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
                icon:
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target: 
                  entity_id: '[[[ return  variables.主刷重置 ?? ""]]]'
          b5:
            card:
              type: custom:button-card
              show_label: true
              show_icon: false
              label: |
                [[[
                    var lvxin1= states[variables.边刷剩余百分比]?.state;
                    var lvxin2= states[variables.边刷剩余时间]?.state;
                    return "边刷<br>"+lvxin1+"%<br>"+lvxin2+"h"
                ]]] 
              styles: 
                card:
                  - margin-top: 830px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
          b6:
            card:
              type: custom:button-card 
              icon: mdi:gesture-tap-button
              show_icon: true
              show_label: true
              label: 重置
              styles:
                card:
                  - margin-top: 940px
                  - margin-left: 8px
                  - border-radius: 10px
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
                icon:
                  - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target: 
                  entity_id: '[[[ return  variables.边刷重置 ?? ""]]]'
    副背景2:
      card:
        type: custom:button-card
        styles: 
          grid:
            - grid-template-areas: |
                'b1' 'b2'
            - grid-template-columns: 60px
            - grid-template-rows: 0px 0px 0px 0px 0px 0px 0px
          card:
            - padding: 0
            - margin-top: 505px 
            - width: 60px
            - height: 505px
            - border-radius: 15px
            - border-width: 0
            - background: '[[[ return variables.主题 =="on" ? "rgb(255,255,255)" : "rgb(50,50,50)" ]]]'
        custom_fields:
          b1:
            card:
              type: custom:button-card 
              show_icon: false
              show_label: true
              label: 地毯<br>增压
              styles:
                card:
                  - margin-top: 830px
                  - margin-left: 8px
                  - border-radius: 10px 
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: | 
                      [[[ 
                          var info  = states[variables.地毯增压]?.state;      
                          if( info =="打开" ) return  扫地机器人颜色;   
                          if( info =="关闭" && variables.主题=="on" ) return "rgb(0,0,0)";  
                          if( info =="关闭" && variables.主题=="off") return "rgb(250,250,250)";  
                          return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)"
                      ]]] 
                icon:
                  - color: | 
                      [[[ 
                          var info  = states[variables.地毯增压]?.state;      
                          if( info =="打开" ) return  扫地机器人颜色;   
                          if( info =="关闭" && variables.主题=="on" ) return "rgb(0,0,0)";  
                          if( info =="关闭" && variables.主题=="off") return "rgb(250,250,250)";  
                          return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)"
                      ]]] 
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: |
                    [[[
                        var info = states[variables.地毯增压]?.state
                        if (info=="打开") return "关闭";
                        if (info=="关闭") return "打开";
                        return "";
                    ]]]
                target: 
                  entity_id: '[[[ return  variables.地毯增压 ?? ""]]]'
          b2: 
            card:
              type: custom:button-card 
              show_icon: false
              show_label: true
              label: 断点<br>续扫
              styles:
                card:
                  - margin-top: 940px
                  - margin-left: 8px
                  - border-radius: 10px 
                  - width: 42px
                  - height: 42px
                  - border-width: 0
                  - background: '[[[ return variables.主题 =="on" ? "rgb(230,230,230)" : "rgb(80,80,80)" ]]]'
                label:
                  - font-size: 11px
                  - color: | 
                      [[[ 
                          var info  = states[variables.断点续扫]?.state;      
                          if( info =="打开" ) return  扫地机器人颜色;   
                          if( info =="关闭" && variables.主题=="on" ) return "rgb(0,0,0)";  
                          if( info =="关闭" && variables.主题=="off") return "rgb(250,250,250)";  
                          return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)"
                      ]]] 
                icon:
                  - color: | 
                      [[[ 
                          var info  = states[variables.断点续扫]?.state;      
                          if( info =="打开" ) return  扫地机器人颜色;   
                          if( info =="关闭" && variables.主题=="on" ) return "rgb(0,0,0)";  
                          if( info =="关闭" && variables.主题=="off") return "rgb(250,250,250)";  
                          return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)"
                      ]]] 
              tap_action:
                action: call-service
                service: select.select_option
                data: 
                  option: |
                    [[[
                        var info = states[variables.断点续扫]?.state
                        if (info=="打开") return "关闭";
                        if (info=="关闭") return "打开";
                        return "";
                    ]]]
                target: 
                  entity_id: '[[[ return  variables.断点续扫 ?? ""]]]'

扫地机器人控制:
  show_icon: true
  styles:
    card: 
      - width: 66px 
      - height: 42px
      - border-radius: 10px
      - border-width: 0
      - background: rgb(0,0,0,0)
    icon:  
      - width: 20px
      - height: 20px
      - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'
扫地机器人清扫模式:
  triggers_update:
    - '[[[ return variables.清扫模式 ?? "" ]]]'
  show_icon: true
  show_label: true
  icon: mdi:fan
  styles: 
    card:
      - width: 66px 
      - height: 42px
      - border-radius: 10px 
      - border-width: 0
      - background: |
          [[[
              var mode = states[variables.清扫模式]?.state;
              if( mode ==variables.清扫模式2)  return 扫地机器人颜色;
              return "rgb(0,0,0,0)";
          ]]]
    label:
      - font-size: 11px
      - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]' 
    icon:
      - width: 20px
      - height: 20px
      - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]' 
扫地机器人出水量:
  triggers_update:
    - '[[[ return variables.出水量 ]]]'
  show_icon: true
  show_label: true
  icon: mdi:water
  styles: 
    card: 
      - width: 88px
      - height: 42px
      - border-radius: 10px
      - border-width: 0
      - background: |
          [[[
              var mode = states[variables.出水量]?.state;
              if( mode ==variables.出水量2)  return 扫地机器人颜色;
              return "rgb(0,0,0,0)";
          ]]]
    label:
      - font-size: 11px
      - color: '[[[ return variables.主题 =="on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]' 
    icon: 
      - width: 20px 
      - height: 20px
      - color: '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)" ]]]'