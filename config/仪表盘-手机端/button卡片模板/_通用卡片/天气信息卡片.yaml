天气卡片:
  triggers_update:
    - '[[[ return variables.entity ]]]'
    - '[[[ return variables.switch ]]]'
    - '[[[ return variables.yujing ]]]'
    - '[[[ return weathert]]]'
  styles:
    card: 
      - cursor: none
      - --mdc-ripple-press-opacity: 0
      - padding: 0 0 0 0  
      - height: |  
          [[[
              const mdoe = states[variables.entity].state;
              const yujing = states[variables.yujing].state=="on";
              const warning = states[variables.entity]?.attributes?.warning ?? "";
              const Height = 58 + warning.length * 8;
              if (mdoe == "unavailable") {
                  return `0`;
              } 
              if (mdoe != "unavailable" && yujing) {
                  return `calc(${Height}vw + 16px)`;
              } 
              if (mdoe != "unavailable" && !yujing) {
                  return `calc(58vw + 8px)`;
              } 
              else  return `calc(58vw + 8px)`;
          ]]]
      - display: |
          [[[
              if (states[variables.entity].state=="unavailable") {
                  return "none";
              }
          ]]] 
    grid:
      - grid-template-areas: |
          [[[
              if (states[variables.entity].state=="unavailable") {
                return ``
              }
              if (states[variables.switch].state =='on'){
                return `"天气主背景" 
                        "天气主图标" 
                        "天气主温度" 
                        "天气主信息" 
                        "天气预警图标" 
                        "天气主城市" 
                        "天气星期" 
                        "天气日期" 
                        "天气最高温度" 
                        "天气最高温度连接线"  
                        "天气最低温度" 
                        "天气最低温度连接线" 
                        "天气降雨量" 
                        "天气降雨量数值" 
                        "天气状况图标" 
                        "天气风力图标" 
                        "天气风力等级" 
                        "天气边框线" 
                        "天气预警背景" 
                        "天气预警信息"`
              }
              if (states[variables.switch].state =='off'){
                return `"天气主背景"
                        "天气主图标" 
                        "天气主温度" 
                        "天气主信息" 
                        "天气预警图标" 
                        "天气主城市" 
                        "天气小时时间" 
                        "天气小时日期" 
                        "天气小时温度" 
                        "天气小时温度连接线" 
                        "天气小时降雨量" 
                        "天气小时降雨量数值" 
                        "天气小时状况图标" 
                        "天气小时风力图标" 
                        "天气小时风力等级" 
                        "天气边框线"
                        "天气预警背景" 
                        "天气预警信息"`
              }
          ]]]
      - grid-template-columns: 100%
      - grid-template-rows: 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 0px 
  custom_fields:
    天气主背景:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 58vw
            - padding: 0
            - border-width: 0
            - border-radius: 0
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - border-radius: 3vw
            - height: 58vw
            - background: '[[[ return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(50,50,50)"; ]]]' 
    天气主图标:
      card:
        type: custom:button-card
        show_entity_picture: true
        entity_picture: | 
          [[[ 
              var sun = states['sun.sun'].state;
              var icon = states[variables.entity]?.attributes?.condition_cn ?? "undefined";
              if ( variables.主题=='off' && icon=='晴'   && sun == 'above_horizon') return "/local/UI/天气/图标/晴-白天.svg";
              if ( variables.主题=='off' && icon=='晴'   && sun == 'below_horizon') return "/local/UI/天气/图标/晴-夜晚.svg";
              if ( variables.主题=='off' && icon=='少云' && sun == 'above_horizon') return "/local/UI/天气/图标/少云-白天.svg";
              if ( variables.主题=='off' && icon=='少云' && sun == 'below_horizon') return "/local/UI/天气/图标/少云-夜晚.svg";
              if ( variables.主题=='off' && icon=='多云' && sun == 'above_horizon') return "/local/UI/天气/图标/多云-白天.svg";
              if ( variables.主题=='off' && icon=='多云' && sun == 'below_horizon') return "/local/UI/天气/图标/多云-夜晚.svg";

              if ( variables.主题=='on' && icon=='晴'   && sun == 'above_horizon') return "/local/UI/天气/图标/晴-白天-暗黑.svg";
              if ( variables.主题=='on' && icon=='晴'   && sun == 'below_horizon') return "/local/UI/天气/图标/晴-夜晚-暗黑.svg";
              if ( variables.主题=='on' && icon=='少云' && sun == 'above_horizon') return "/local/UI/天气/图标/少云-白天-暗黑.svg";
              if ( variables.主题=='on' && icon=='少云' && sun == 'below_horizon') return "/local/UI/天气/图标/少云-夜晚-暗黑.svg";
              if ( variables.主题=='on' && icon=='多云' && sun == 'above_horizon') return "/local/UI/天气/图标/多云-白天-暗黑.svg";
              if ( variables.主题=='on' && icon=='多云' && sun == 'below_horizon') return "/local/UI/天气/图标/多云-夜晚-暗黑.svg";

              if ( variables.主题=='off')  return "/local/UI/天气/图标/"+icon+".svg";
              if ( variables.主题=='on' )  return "/local/UI/天气/图标/"+icon+"-暗黑.svg";
          ]]] 
        styles:
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - width: 11vw
            - height: 11vw 
            - margin-top: 11vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
          entity_picture:
            - width: 100% 
    天气主温度:
      card:
        type: custom:button-card
        show_label: true 
        label: |
          [[[
              var wendu =states[variables.entity]?.attributes?.temperature ?? "";
              var shidu =states[variables.entity]?.attributes?.humidity ?? "";
              if ( wendu.toString().includes(".") != true) wendu = wendu + ".0";
              if ( shidu.toString().includes(".") != true) shidu = shidu + ".0";
              return wendu+'<font size="2.8px"><b> ℃&emsp;&ensp;</b></font>' + shidu+'<font size="2.8px"><b> % </b></font>';
          ]]] 
        styles:  
          label: 
            - justify-self: start
            - font-size: 5.2vw
            - color: '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";]]]' 
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - height: 8vw 
            - margin-top: 8vw 
            - margin-left: 16.5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
    天气主信息: 
      card:
        type: custom:button-card
        show_label: true 
        label: | 
          [[[
              var tianqi  = states[variables.entity]?.attributes?.condition_cn ?? "";
              var wind    = states[variables.entity]?.attributes?.wind_speed ?? "";
              
              return tianqi +"   "+wind+" km/h"; 
          ]]] 
        styles:
          label: 
            - width: 80vw
            - text-align: left
            - white-space: pre
            - font-size: 2.5vw
            - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(220,220,220)";]]]' 
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - width: 80vw
            - height: 8vw 
            - margin-top: 16vw 
            - margin-left: 6.5vw
            - border-width: 0
            - background: rgb(0,0,0,0)
    天气主城市:
      card:
        type: custom:button-card
        triggers_update:
          - '[[[ return variables.entity ]]]'
        show_label: true 
        label: | 
          [[[
              var name = hass.user.name;
              var city = states[variables.entity]?.attributes?.city ?? "";
 
              if (variables.mode=="家")   return '🏠'+city; 
              if (variables.mode=="搜索") return '🔍'+city; 
              if (variables.mode=="手机") return '📍'+city; 
          ]]] 
        styles:
          label: 
            - width: 80vw
            - text-align: right
            - white-space: pre
            - font-size: 4.5vw
            - color:  '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";]]]' 
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - width: 80vw
            - height: 14vw 
            - margin-top: 10vw 
            - margin-left: 12vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
    天气星期:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "week1 week2 week3 week4 week5 week6 week7 week8 week9 week10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10%
            - grid-template-rows: 3vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 25vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          week1:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          week2:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          week3:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          week4:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          week5:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          week6:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          week7:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          week8:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          week9:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          week10:
            card:
              type: custom:button-card
              template: 天气星期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时时间:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "time1 time2 time3 time4 time5 time6 time7 time8 time9 time10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10%
            - grid-template-rows: 3vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 25vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          time1:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          time2:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          time3:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          time4:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          time5:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          time6:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          time7:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          time8:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          time9:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          time10:
            card:
              type: custom:button-card
              template: 天气小时时间取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气日期:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "date1 date2 date3 date4 date5 date6 date7 date8 date9 date10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 30vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          date1:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          date2:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          date3:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          date4:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          date5:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          date6:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          date7:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          date8:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          date9:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          date10:
            card:
              type: custom:button-card
              template: 天气日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时日期:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "date1 date2 date3 date4 date5 date6 date7 date8 date9 date10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 30vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          date1:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          date2:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          date3:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          date4:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          date5:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          date6:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          date7:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          date8:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          date9:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          date10:
            card:
              type: custom:button-card
              template: 天气小时日期取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气风力图标:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "wind1 wind2 wind3 wind4 wind5 wind6 wind7 wind8 wind9 wind10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 110vw 
            - margin-left: -2.5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          wind1:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          wind2:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          wind3:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          wind4:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          wind5:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          wind6:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          wind7:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          wind8:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          wind9:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          wind10:
            card:
              type: custom:button-card
              template: 天气风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时风力图标:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "wind1 wind2 wind3 wind4 wind5 wind6 wind7 wind8 wind9 wind10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 110vw 
            - margin-left: -2.5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          wind1:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          wind2:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          wind3:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          wind4:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          wind5:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          wind6:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          wind7:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          wind8:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          wind9:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          wind10:
            card:
              type: custom:button-card
              template: 天气小时风力图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气风力等级:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "wind1 wind2 wind3 wind4 wind5 wind6 wind7 wind8 wind9 wind10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 109.5vw 
            - margin-left: 1vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          wind1:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          wind2:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          wind3:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          wind4:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          wind5:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          wind6:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          wind7:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          wind8:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          wind9:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          wind10:
            card:
              type: custom:button-card
              template: 天气风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时风力等级:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "wind1 wind2 wind3 wind4 wind5 wind6 wind7 wind8 wind9 wind10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 2vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 109.5vw 
            - margin-left: 1vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          wind1:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          wind2:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          wind3:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          wind4:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          wind5:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          wind6:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          wind7:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          wind8:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          wind9:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          wind10:
            card:
              type: custom:button-card
              template: 天气小时风力等级取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气状况图标:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "icon1 icon2 icon3 icon4 icon5 icon6 icon7 icon8 icon9 icon10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 5vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 103vw 
            - margin-left: 0vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          icon1:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          icon2:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          icon3:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          icon4:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          icon5:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          icon6:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          icon7:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          icon8:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          icon9:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          icon10:
            card:
              type: custom:button-card
              template: 天气状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时状况图标:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "icon1 icon2 icon3 icon4 icon5 icon6 icon7 icon8 icon9 icon10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 5vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 103vw 
            - margin-left: 0vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          icon1:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          icon2:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          icon3:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          icon4:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          icon5:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          icon6:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          icon7:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          icon8:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          icon9:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          icon10:
            card:
              type: custom:button-card
              template: 天气小时状况图标取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气降雨量:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "rain1 rain2 rain3 rain4 rain5 rain6 rain7 rain8 rain9 rain10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 65vw 
            - margin-left: 0.1vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          rain1:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          rain2:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          rain3:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          rain4:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          rain5:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          rain6:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          rain7:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          rain8:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          rain9:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          rain10:
            card:
              type: custom:button-card
              template: 天气降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时降雨量:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "rain1 rain2 rain3 rain4 rain5 rain6 rain7 rain8 rain9 rain10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 65vw 
            - margin-left: 0.1vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          rain1:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          rain2:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          rain3:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          rain4:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          rain5:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          rain6:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          rain7:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          rain8:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          rain9:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          rain10:
            card:
              type: custom:button-card
              template: 天气小时降雨量取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气边框线:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "icon1 icon2 icon3 icon4 icon5 icon6 icon7 icon8 icon9 icon10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 30vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0 0 0 0 
            - border-radius: 0
            - margin-top: 65vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          icon1:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon2:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon3:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon4:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon5:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon6:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon7:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon8:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon9:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
          icon10:
            card:
              type: custom:button-card
              template: 天气边框线绘制模板
              styles:
                card:
                  - width: 9.3vw
                  - border-right: 1px solid;
    天气降雨量数值:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "rain1 rain2 rain3 rain4 rain5 rain6 rain7 rain8 rain9 rain10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 5vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 95vw 
            - margin-left: 0vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          rain1:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          rain2:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          rain3:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          rain4:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          rain5:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          rain6:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          rain7:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          rain8:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          rain9:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          rain10:
            card:
              type: custom:button-card
              template: 天气降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时降雨量数值:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "rain1 rain2 rain3 rain4 rain5 rain6 rain7 rain8 rain9 rain10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 5vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 95vw 
            - margin-left: 0vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          rain1:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          rain2:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          rain3:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          rain4:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          rain5:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          rain6:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          rain7:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          rain8:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          rain9:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          rain10:
            card:
              type: custom:button-card
              template: 天气小时降雨量数值取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气最高温度连接线:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "top1 top2 top3 top4 top5 top6 top7 top8 top9 top10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - margin-left: 5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          top1:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t0
          top2:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t1
          top3:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t2
          top4:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t3
          top5:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t4
          top6:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t5
          top7:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t6
          top8:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t7
          top9:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t8
    天气最低温度连接线:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "down1 down2 down3 down4 down5 down6 down7 down8 down9 down10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - margin-left: 5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          down1:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d0
          down2:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d1
          down3:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d2
          down4:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d3
          down5:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d4
          down6:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d5
          down7:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d6
          down8:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d7
          down9:
            card:
              type: custom:button-card
              template: 天气温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: d8
    天气小时温度连接线:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "top1 top2 top3 top4 top5 top6 top7 top8 top9 top10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - margin-left: 5vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          top1:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t0
          top2:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t1
          top3:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t2
          top4:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t3
          top5:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t4
          top6:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t5
          top7:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t6
          top8:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t7
          top9:
            card:
              type: custom:button-card
              template: 天气小时温度连接线绘制模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: t8
    天气最高温度:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "top1 top2 top3 top4 top5 top6 top7 top8 top9 top10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          top1:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          top2:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          top3:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          top4:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          top5:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          top6:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          top7:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          top8:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          top9:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          top10:
            card:
              type: custom:button-card
              template: 天气最高温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气最低温度:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "down1 down2 down3 down4 down5 down6 down7 down8 down9 down10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          down1:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          down2:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          down3:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          down4:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          down5:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          down6:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          down7:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          down8:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          down9:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          down10:
            card:
              type: custom:button-card
              template: 天气最低温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气小时温度:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "top1 top2 top3 top4 top5 top6 top7 top8 top9 top10"
            - grid-template-columns: 10% 10% 10% 10% 10% 10% 10% 10% 10% 10% 
            - grid-template-rows: 60vw
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - margin-top: 38vw 
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          top1:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 0
          top2:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 1
          top3:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 2
          top4:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 3
          top5:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 4
          top6:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 5
          top7:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 6
          top8:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 7
          top9:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 8
          top10:
            card:
              type: custom:button-card
              template: 天气小时温度取数模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]' 
                weizhi: 9
    天气预警图标:
      card:
        type: custom:button-card
        tap_action:  
          action: call-service
          service: switch.toggle
          target:
            entity_id: '[[[ return variables.yujing ?? "" ]]]'
        show_label: true 
        label: |
          [[[
              var warning  = states[variables.entity]?.attributes?.warning ?? "";
              if (warning.length>0) return "⚠ "+warning.length;
              else  return "";
          ]]]   
        styles:
          label:  
            - font-size: 4.5vw 
            - font-weight: bold
            - color:  |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    let level = "";
                    const priority = ["红色", "橙色", "黄色", "蓝色"];
                    for (let i=0;i<warning.length;i++){
                      const currentlevel = warning[i].level;
                      if (priority.indexOf(currentlevel) < priority.indexOf(level) || level == "") {
                          level = currentlevel;
                      }
                    }
                    if (level=="红色") return "rgb(255,50,50)";
                    if (level=="橙色") return "rgb(255,100,0)";
                    if (level=="黄色") return "rgb(255,200,0)";
                    if (level=="蓝色") return "rgb(50,150,200)";
                    else  return "";
                ]]] 
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - padding: 0
            - width: 15vw
            - height: 8vw 
            - margin-top: 7.5vw 
            - margin-left: 47vw
            - border-width: 0
            - background: rgb(0,0,0,0)
            - display: |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    if (warning.length>0) return "";
                    else return "none";
                ]]]
    天气预警背景:
      card:
        type: custom:button-card
        styles:
          card:
            - padding: 0
            - border-width: 0
            - border-radius: 0
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - border-radius: 3vw
            - margin-top: |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    var height = 116+ warning.length*8
                    return "calc("+height+"vw + 16px)";
                ]]]
            - height:  |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    return warning.length*8 +"vw"
                ]]]
            - background:  '[[[ return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(50,50,50)"; ]]]' 
            - display: |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    if (warning.length>0) return "";
                    else return "none";
                ]]]
    天气预警信息:
      card:
        type: custom:button-card
        styles:
          grid:
            - grid-template-areas: |
                "weather1" "weather2" "weather3" "weather4" "weather5" "weather6" "weather7" "weather8"
            - grid-template-columns: 100%
            - grid-auto-rows: minmax(auto, auto)
            - grid-auto-flow: row
          card:
            - padding: 0 
            - border-width: 0
            - border-radius: 0
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - border-radius: 3vw
            - margin-top: |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    var height = 116+ warning.length*8
                    return "calc("+height+"vw + 16px)";
                ]]]
            - height:  |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    return warning.length*8 +"vw"
                ]]]
            - background: rgb(0,0,0,0)
            - display: |
                [[[
                    var warning  = states[variables.entity]?.attributes?.warning ?? "";
                    if (warning.length>0) return "";
                    else return "none";
                ]]]
        custom_fields: 
          weather1:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 0
          weather2:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 1
          weather3:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 2
          weather4:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 3
          weather5:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 4
          weather6:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 5
          weather7:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 6
          weather8:  
            card: 
              type: custom:button-card
              template: 天气预警信息模板
              variables:
                主题: '[[[ return variables.主题 ]]]'
                entity: '[[[return variables.entity]]]'
                id : 7
              
天气预警信息模板:
  show_name: true 
  show_label: true  
  name: | 
    [[[
        if(states[variables.entity]?.attributes?.warning?.length > variables.id){
            const warningItem   = states[variables.entity]?.attributes?.warning[variables.id]  || {};
            const typeName = warningItem.typeName ?? "";
            const level = warningItem.level ?? "";
            const sender = warningItem.sender ?? "";
            const startTime = warningItem.startTime ? warningItem.startTime.slice(0, 10) : "";
            const endTime = warningItem.endTime ? warningItem.endTime.slice(0, 10) : "";
            return ` ${sender}: 【${typeName}】${level}预警&emsp;( ${startTime}至${endTime} )`;
        }
    ]]]   
  label: |
    [[[
         if(states[variables.entity]?.attributes?.warning?.length>variables.id){
            var text  = states[variables.entity]?.attributes?.warning[variables.id]?.text  ?? ""; 
            return `
              <div style="display: flex; overflow: hidden; white-space: nowrap; width: 100%;
              ">
                <div style="
                  display: inline-block;
                  padding-left: 100%;
                  animation: scroll ${Math.max(5, text.length * 0.3)}s linear infinite;
                ">
                  <span>${text}</span>
                </div>
              </div>
              <style>
                @keyframes scroll {
                  0% { transform: translateX(0); }
                  100% { transform: translateX(-100%); }
                }
              </style>
            `;
          }
    ]]]
  styles: 
    name:  
      - margin-top: -0.5vw
      - font-size: 2.5vw 
      - font-weight: bold
      - width: 90vw
      - text-align: left
      - color: |
          [[[
              if(states[variables.entity]?.attributes?.warning?.length>variables.id){
                  const warningItem   = states[variables.entity]?.attributes?.warning[variables.id]  || {};
                  const level = warningItem.level ?? "";
                  if (level=="红色") return "rgb(255,50,50)";
                  if (level=="橙色") return "rgb(255,100,0)";
                  if (level=="黄色") return "rgb(255,200,0)";
                  if (level=="蓝色") return "rgb(50,150,200)";
                  else  return "";
              }
          ]]] 
    label:  
      - font-size: 2.5vw 
      - font-weight: bold
      - width: 90vw
      - text-align: left
      - color: '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)"; ]]]' 
    card:
      - padding: 0
      - border-width: 0
      - border-radius: 0
      - cursor: none
      - --mdc-ripple-press-opacity: 0
      - border-radius: 3vw
      - height:  8vw
      - background: rgb(0,0,0,0)
      - display: |
          [[[
              var warning  = states[variables.entity]?.attributes?.warning ?? "";
              if (warning.length>0) return "";
              else return "none";
          ]]]

天气星期取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var date = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.datetime ?? "";
        var year = date.slice(0,4);
        var mon =  date.slice(5,7)-1;  
        var day =  date.slice(8,10);
        var date = new Date(year, mon, day);
        var week_id = date.getDay();
        var weeks = new Array("周日", "周一", "周二", "周三", "周四", "周五", "周六");
        var week =  weeks[week_id];
        return week; 
    ]]] 
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    label:
      - font-size: 2.5vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气日期取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var date = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.datetime ?? "";
        return  date.slice(5,7)+"月"+date.slice(8,10)+"日";
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    label:
      - font-size: 1.66vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气小时时间取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        return states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.datetime?.slice(11,16);
    ]]] 
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0) 
    label:
      - font-size: 2.5vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气小时日期取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var now = states[variables.entity]?.attributes?.weather?.obsTime?.slice(0,10);
        var day = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.fxTime?.slice(8,10)
        var hour = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.fxTime?.slice(11,13);
        if(new Date().getDate() == day )  var data="今日";
        if(new Date().getDate() == day-1) var data="明日";
        if(hour>=0 && hour<=4)  return data+=" 凌晨";
        if(hour>4  && hour<=7)  return data+=" 早上";
        if(hour>7  && hour<=10) return data+=" 上午";
        if(hour>10 && hour<=12) return data+=" 中午";
        if(hour>12 && hour<=17) return data+=" 下午";
        if(hour>17 && hour<=19) return data+=" 傍晚";
        if(hour>19 && hour<=23) return data+=" 晚上";
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    label:
      - font-size: 1.66vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气状况图标取数模板: 
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_entity_picture: true
  entity_picture: |
    [[[ 
        var icon = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.text;
        if(variables.主题=='on')  return "/local/UI/天气/图标/"+icon+"-暗黑.svg";
        if(variables.主题=='off') return "/local/UI/天气/图标/"+icon+".svg"; 
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    entity_picture:
      - width: 5vw
天气小时状况图标取数模板: 
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_entity_picture: true
  entity_picture: |
    [[[ 
        var icon = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.text;
        if(variables.主题=='on')  return "/local/UI/天气/图标/"+icon+"-暗黑.svg";
        if(variables.主题=='off') return "/local/UI/天气/图标/"+icon+".svg"; 
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    entity_picture:
      - width: 5vw

天气风力图标取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: ➤
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
      - transform: |
          [[[ 
              var wind = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.wind_bearing-90;
              return "rotate("+wind+"deg)" 
          ]]]
    label:
      - margin-left: 0vw
      - font-size: 1.66vw
      - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 
天气小时风力图标取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: ➤
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
      - transform: |
          [[[ 
              var wind = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.wind360-90;
              return "rotate("+wind+"deg)" 
          ]]]
    label:
      - margin-left: 0vw
      - font-size: 1.66vw
      - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气风力等级取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[ 
        var wind = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_wind_speed;
        return wind + "级"; 
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    label:
      - margin-left: 0vw
      - font-size: 2vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 
天气小时风力等级取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[ 
        var wind = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_wind_speed;
        return wind + "级"; 
    ]]]
  styles:
    card:
      - border-width: 0
      - background: rgb(0,0,0,0)
    label:
      - margin-left: 0vw
      - font-size: 2vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";]]]' 

天气边框线绘制模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  styles:  
    card:
      - padding: 0 0 0 0
      - width: 10vw  
      - height: 30vw
      - border-radius: 0
      - border-top: 0px solid;
      - border-right: 0px solid;
      - border-bottom: 1px solid;
      - border-left: 1px solid;  
      - background: rgb(0,0,0,0)
      - border-image: |  
          [[[
              return "linear-gradient(0deg, rgb(0,191,255) , rgb(255,165,0)) 1";
          ]]]
天气最高温度取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var wendu = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_temperature*1;
        return wendu +"°";
    ]]]
  styles: 
    label:
      - font-size: 2vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";]]]' 
    card:
      - width: 5vw
      - height: 3vw
      - border-radius: 2vw
      - background:  '[[[ return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(0,0,0)";]]]' 
      - border: 1px solid rgb(255,165,0)
      - margin-left: 2.5vw 
      - margin-top: |
          [[[      
              var t0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temperature*1; 
              var t1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temperature*1; 
              var t6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temperature*1;
              var d0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temp_low*1;
              var d1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temp_low*1;
              var d2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temp_low*1;
              var d3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temp_low*1;
              var d4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temp_low*1;
              var d5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temp_low*1;
              var d6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temp_low*1;
              var d7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temp_low*1;
              var d8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temp_low*1;
              var d9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temp_low*1;
              var tm = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var range = 48/(max-min);  
              if (variables.weizhi=='0' )  return  range*(tm-t0) + "vw";
              if (variables.weizhi=='1' )  return  range*(tm-t1) + "vw";
              if (variables.weizhi=='2' )  return  range*(tm-t2) + "vw";
              if (variables.weizhi=='3' )  return  range*(tm-t3) + "vw";
              if (variables.weizhi=='4' )  return  range*(tm-t4) + "vw";
              if (variables.weizhi=='5' )  return  range*(tm-t5) + "vw";
              if (variables.weizhi=='6' )  return  range*(tm-t6) + "vw";
              if (variables.weizhi=='7' )  return  range*(tm-t7) + "vw";
              if (variables.weizhi=='8' )  return  range*(tm-t8) + "vw";
              if (variables.weizhi=='9' )  return  range*(tm-t9) + "vw";
          ]]]
天气最低温度取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var wendu = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_temp_low*1;
        return wendu +"°";
    ]]]
  styles: 
    label:
      - font-size: 2vw
      - color: '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";]]]' 
    card:
      - width: 5vw
      - height: 3vw
      - border-radius: 2vw
      - background: '[[[ return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(0,0,0)";]]]' 
      - border: 1px solid rgb(0,190,255)
      - margin-left: 2.5vw 
      - margin-top: |
          [[[      
              var t0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temperature*1; 
              var t1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temperature*1; 
              var t6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temperature*1;
              var d0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temp_low*1;
              var d1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temp_low*1;
              var d2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temp_low*1;
              var d3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temp_low*1;
              var d4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temp_low*1;
              var d5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temp_low*1;
              var d6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temp_low*1;
              var d7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temp_low*1;
              var d8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temp_low*1;
              var d9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temp_low*1;
              var dm = Math.min(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var range = 48/(max-min);  
              if (variables.weizhi=='0' )  return  48-range*(d0-dm) + "vw";
              if (variables.weizhi=='1' )  return  48-range*(d1-dm) + "vw";
              if (variables.weizhi=='2' )  return  48-range*(d2-dm) + "vw";
              if (variables.weizhi=='3' )  return  48-range*(d3-dm) + "vw";
              if (variables.weizhi=='4' )  return  48-range*(d4-dm) + "vw";
              if (variables.weizhi=='5' )  return  48-range*(d5-dm) + "vw";
              if (variables.weizhi=='6' )  return  48-range*(d6-dm) + "vw";
              if (variables.weizhi=='7' )  return  48-range*(d7-dm) + "vw";
              if (variables.weizhi=='8' )  return  48-range*(d8-dm) + "vw";
              if (variables.weizhi=='9' )  return  48-range*(d9-dm) + "vw";
          ]]]

天气小时温度取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var wendu = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_temperature*1;
        return wendu +"°";
    ]]]
  styles: 
    label:
      - font-size: 2vw
      - color:  '[[[ return variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";]]]' 
    card:
      - width: 5vw
      - height: 3vw
      - border-radius: 2vw
      - background:  '[[[ return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(0,0,0)";]]]' 
      - border: 1px solid rgb(255,165,0)
      - margin-left: 2.5vw 
      - margin-top: |
          [[[      
              var t0 = states[variables.entity]?.attributes?.hourly_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.hourly_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.hourly_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.hourly_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.hourly_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.hourly_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.hourly_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.hourly_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.hourly_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.hourly_forecast?.[9]?.native_temperature*1;
              var temps = [t0,t1,t2,t3,t4,t5,t6,t7,t8,t9];
              var tm = Math.max(...temps);
              var max = Math.max(...temps);
              var min = Math.min(...temps);
              var range = 48/(max-min);  
              return range*(tm - temps[variables.weizhi]) + "vw";
          ]]]

天气温度连接线绘制模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  styles: 
    card:
      - padding: 0 0 0 0
      - border-radius: 0
      - width: 10vw
      - border-width: 0
      - height: | 
          [[[ 
              var t0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temperature*1;
              var d0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temp_low*1;
              var d1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temp_low*1;
              var d2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temp_low*1;
              var d3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temp_low*1;
              var d4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temp_low*1;
              var d5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temp_low*1;
              var d6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temp_low*1;
              var d7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temp_low*1;
              var d8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temp_low*1;
              var d9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temp_low*1;
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var range = 24/(max-min);          
              if (variables.weizhi=='t0' && t0==t1 ) return '1px';
              if (variables.weizhi=='t1' && t1==t2 ) return '1px';
              if (variables.weizhi=='t2' && t2==t3 ) return '1px';
              if (variables.weizhi=='t3' && t3==t4 ) return '1px';
              if (variables.weizhi=='t4' && t4==t5 ) return '1px';
              if (variables.weizhi=='t5' && t5==t6 ) return '1px';
              if (variables.weizhi=='t6' && t6==t7 ) return '1px';
              if (variables.weizhi=='t7' && t7==t8 ) return '1px';
              if (variables.weizhi=='t8' && t8==t9 ) return '1px';
              if (variables.weizhi=='t0' && t0!=t1 ) return range * Math.abs(t0-t1) + "vw";
              if (variables.weizhi=='t1' && t1!=t2 ) return range * Math.abs(t1-t2) + "vw";
              if (variables.weizhi=='t2' && t2!=t3 ) return range * Math.abs(t2-t3) + "vw";
              if (variables.weizhi=='t3' && t3!=t4 ) return range * Math.abs(t3-t4) + "vw";
              if (variables.weizhi=='t4' && t4!=t5 ) return range * Math.abs(t4-t5) + "vw";
              if (variables.weizhi=='t5' && t5!=t6 ) return range * Math.abs(t5-t6) + "vw";
              if (variables.weizhi=='t6' && t6!=t7 ) return range * Math.abs(t6-t7) + "vw";
              if (variables.weizhi=='t7' && t7!=t8 ) return range * Math.abs(t7-t8) + "vw";
              if (variables.weizhi=='t8' && t8!=t9 ) return range * Math.abs(t8-t9) + "vw";
              if (variables.weizhi=='d0' && d0==d1 ) return '1px';
              if (variables.weizhi=='d1' && d1==d2 ) return '1px';
              if (variables.weizhi=='d2' && d2==d3 ) return '1px';
              if (variables.weizhi=='d3' && d3==d4 ) return '1px';
              if (variables.weizhi=='d4' && d4==d5 ) return '1px';
              if (variables.weizhi=='d5' && d5==d6 ) return '1px';
              if (variables.weizhi=='d6' && d6==d7 ) return '1px';
              if (variables.weizhi=='d7' && d7==d8 ) return '1px';
              if (variables.weizhi=='d8' && d8==d9 ) return '1px';
              if (variables.weizhi=='d0' && d0!=d1 ) return range * Math.abs(d0-d1) + "vw";
              if (variables.weizhi=='d1' && d1!=d2 ) return range * Math.abs(d1-d2) + "vw";
              if (variables.weizhi=='d2' && d2!=d3 ) return range * Math.abs(d2-d3) + "vw";
              if (variables.weizhi=='d3' && d3!=d4 ) return range * Math.abs(d3-d4) + "vw";
              if (variables.weizhi=='d4' && d4!=d5 ) return range * Math.abs(d4-d5) + "vw";
              if (variables.weizhi=='d5' && d5!=d6 ) return range * Math.abs(d5-d6) + "vw";
              if (variables.weizhi=='d6' && d6!=d7 ) return range * Math.abs(d6-d7) + "vw";
              if (variables.weizhi=='d7' && d7!=d8 ) return range * Math.abs(d7-d8) + "vw";
              if (variables.weizhi=='d8' && d8!=d9 ) return range * Math.abs(d8-d9) + "vw";
          ]]]  
      - background: |
          [[[
              var t0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temperature*1;
              var d0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temp_low*1;
              var d1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temp_low*1;
              var d2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temp_low*1;
              var d3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temp_low*1;
              var d4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temp_low*1;
              var d5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temp_low*1;
              var d6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temp_low*1;
              var d7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temp_low*1;
              var d8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temp_low*1;
              var d9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temp_low*1;
              if ((variables.weizhi=='t0' && t0==t1 )||
                  (variables.weizhi=='t1' && t1==t2 )||
                  (variables.weizhi=='t2' && t2==t3 )||
                  (variables.weizhi=='t3' && t3==t4 )||
                  (variables.weizhi=='t4' && t4==t5 )||
                  (variables.weizhi=='t5' && t5==t6 )||
                  (variables.weizhi=='t6' && t6==t7 )||
                  (variables.weizhi=='t7' && t7==t8 )||
                  (variables.weizhi=='t8' && t8==t9 ))  return 'rgb(255,165,0)';
              if ((variables.weizhi=='t0' && t0>t1 )||
                  (variables.weizhi=='t1' && t1>t2 )||
                  (variables.weizhi=='t2' && t2>t3 )||
                  (variables.weizhi=='t3' && t3>t4 )||
                  (variables.weizhi=='t4' && t4>t5 )||
                  (variables.weizhi=='t5' && t5>t6 )||
                  (variables.weizhi=='t6' && t6>t7 )||
                  (variables.weizhi=='t7' && t7>t8 )||
                  (variables.weizhi=='t8' && t8>t9 ))
                  return 'linear-gradient(to bottom left, rgb(0,0,0,0) calc(50% - 0.5px), rgb(255,165,0) 0, rgb(255,165,0) calc(50% + 0.5px), rgb(0,0,0,0) 0)';
              if ((variables.weizhi=='t0' && t0<t1 )||
                  (variables.weizhi=='t1' && t1<t2 )||
                  (variables.weizhi=='t2' && t2<t3 )||
                  (variables.weizhi=='t3' && t3<t4 )||
                  (variables.weizhi=='t4' && t4<t5 )||
                  (variables.weizhi=='t5' && t5<t6 )||
                  (variables.weizhi=='t6' && t6<t7 )||
                  (variables.weizhi=='t7' && t7<t8 )||
                  (variables.weizhi=='t8' && t8<t9 ))
                  return 'linear-gradient(to bottom right, rgb(0,0,0,0) calc(50% - 0.5px), rgb(255,165,0) 0, rgb(255,165,0) calc(50% + 0.5px), rgb(0,0,0,0) 0)';

              if ((variables.weizhi=='d0' && d0==d1 )||
                  (variables.weizhi=='d1' && d1==d2 )||
                  (variables.weizhi=='d2' && d2==d3 )||
                  (variables.weizhi=='d3' && d3==d4 )||
                  (variables.weizhi=='d4' && d4==d5 )||
                  (variables.weizhi=='d5' && d5==d6 )||
                  (variables.weizhi=='d6' && d6==d7 )||
                  (variables.weizhi=='d7' && d7==d8 )||
                  (variables.weizhi=='d8' && d8==d9 ))  return 'rgb(0,191,255)';  
              if ((variables.weizhi=='d0' && d0>d1 )||
                  (variables.weizhi=='d1' && d1>d2 )||
                  (variables.weizhi=='d2' && d2>d3 )||
                  (variables.weizhi=='d3' && d3>d4 )||
                  (variables.weizhi=='d4' && d4>d5 )||
                  (variables.weizhi=='d5' && d5>d6 )||
                  (variables.weizhi=='d6' && d6>d7 )||
                  (variables.weizhi=='d7' && d7>d8 )||
                  (variables.weizhi=='d8' && d8>d9 ))
                  return 'linear-gradient(to bottom left, rgb(0,0,0,0) calc(50% - 0.5px), rgb(0,191,255) 0, rgb(0,191,255) calc(50% + 0.5px), rgb(0,0,0,0) 0)';
              if ((variables.weizhi=='d0' && d0<d1 )||
                  (variables.weizhi=='d1' && d1<d2 )||
                  (variables.weizhi=='d2' && d2<d3 )||
                  (variables.weizhi=='d3' && d3<d4 )||
                  (variables.weizhi=='d4' && d4<d5 )||
                  (variables.weizhi=='d5' && d5<d6 )||
                  (variables.weizhi=='d6' && d6<d7 )||
                  (variables.weizhi=='d7' && d7<d8 )||
                  (variables.weizhi=='d8' && d8<d9 ))
                  return 'linear-gradient(to bottom right, rgb(0,0,0,0) calc(50% - 0.5px), rgb(0,191,255) 0, rgb(0,191,255) calc(50% + 0.5px), rgb(0,0,0,0) 0)';
          ]]]  
      - margin-top: |
          [[[      
              var t0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temperature*1;
              var d0 = states[variables.entity]?.attributes?.daily_forecast?.[0]?.native_temp_low*1;
              var d1 = states[variables.entity]?.attributes?.daily_forecast?.[1]?.native_temp_low*1;
              var d2 = states[variables.entity]?.attributes?.daily_forecast?.[2]?.native_temp_low*1;
              var d3 = states[variables.entity]?.attributes?.daily_forecast?.[3]?.native_temp_low*1;
              var d4 = states[variables.entity]?.attributes?.daily_forecast?.[4]?.native_temp_low*1;
              var d5 = states[variables.entity]?.attributes?.daily_forecast?.[5]?.native_temp_low*1;
              var d6 = states[variables.entity]?.attributes?.daily_forecast?.[6]?.native_temp_low*1;
              var d7 = states[variables.entity]?.attributes?.daily_forecast?.[7]?.native_temp_low*1;
              var d8 = states[variables.entity]?.attributes?.daily_forecast?.[8]?.native_temp_low*1;
              var d9 = states[variables.entity]?.attributes?.daily_forecast?.[9]?.native_temp_low*1;
              var tm = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var dm = Math.min(d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9);
              var range = 24/(max-min);     
              if (variables.weizhi=='t0' )  return  range*(2*tm-t1-t0)+ "vw";
              if (variables.weizhi=='t1' )  return  range*(2*tm-t2-t1)+ "vw";
              if (variables.weizhi=='t2' )  return  range*(2*tm-t3-t2)+ "vw";
              if (variables.weizhi=='t3' )  return  range*(2*tm-t4-t3)+ "vw";
              if (variables.weizhi=='t4' )  return  range*(2*tm-t5-t4)+ "vw";
              if (variables.weizhi=='t5' )  return  range*(2*tm-t6-t5)+ "vw";
              if (variables.weizhi=='t6' )  return  range*(2*tm-t7-t6)+ "vw";
              if (variables.weizhi=='t7' )  return  range*(2*tm-t8-t7)+ "vw";
              if (variables.weizhi=='t8' )  return  range*(2*tm-t9-t8)+ "vw";
              if (variables.weizhi=='d0' )  return  48+range*(2*dm-d1-d0)+ "vw";
              if (variables.weizhi=='d1' )  return  48+range*(2*dm-d2-d1)+ "vw";
              if (variables.weizhi=='d2' )  return  48+range*(2*dm-d3-d2)+ "vw";
              if (variables.weizhi=='d3' )  return  48+range*(2*dm-d4-d3)+ "vw";
              if (variables.weizhi=='d4' )  return  48+range*(2*dm-d5-d4)+ "vw";
              if (variables.weizhi=='d5' )  return  48+range*(2*dm-d6-d5)+ "vw";
              if (variables.weizhi=='d6' )  return  48+range*(2*dm-d7-d6)+ "vw";
              if (variables.weizhi=='d7' )  return  48+range*(2*dm-d8-d7)+ "vw";
              if (variables.weizhi=='d8' )  return  48+range*(2*dm-d9-d8)+ "vw";
          ]]]
天气小时温度连接线绘制模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  styles: 
    card:
      - padding: 0 0 0 0
      - border-radius: 0
      - width: 10vw
      - border-width: 0
      - height: | 
          [[[ 
              var t0 = states[variables.entity]?.attributes?.hourly_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.hourly_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.hourly_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.hourly_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.hourly_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.hourly_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.hourly_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.hourly_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.hourly_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.hourly_forecast?.[9]?.native_temperature*1;
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var range = 24/(max-min);          
              if (variables.weizhi=='t0' && t0==t1 ) return '1px';
              if (variables.weizhi=='t1' && t1==t2 ) return '1px';
              if (variables.weizhi=='t2' && t2==t3 ) return '1px';
              if (variables.weizhi=='t3' && t3==t4 ) return '1px';
              if (variables.weizhi=='t4' && t4==t5 ) return '1px';
              if (variables.weizhi=='t5' && t5==t6 ) return '1px';
              if (variables.weizhi=='t6' && t6==t7 ) return '1px';
              if (variables.weizhi=='t7' && t7==t8 ) return '1px';
              if (variables.weizhi=='t8' && t8==t9 ) return '1px';
              if (variables.weizhi=='t0' && t0!=t1 ) return range * Math.abs(t0-t1) + "vw";
              if (variables.weizhi=='t1' && t1!=t2 ) return range * Math.abs(t1-t2) + "vw";
              if (variables.weizhi=='t2' && t2!=t3 ) return range * Math.abs(t2-t3) + "vw";
              if (variables.weizhi=='t3' && t3!=t4 ) return range * Math.abs(t3-t4) + "vw";
              if (variables.weizhi=='t4' && t4!=t5 ) return range * Math.abs(t4-t5) + "vw";
              if (variables.weizhi=='t5' && t5!=t6 ) return range * Math.abs(t5-t6) + "vw";
              if (variables.weizhi=='t6' && t6!=t7 ) return range * Math.abs(t6-t7) + "vw";
              if (variables.weizhi=='t7' && t7!=t8 ) return range * Math.abs(t7-t8) + "vw";
              if (variables.weizhi=='t8' && t8!=t9 ) return range * Math.abs(t8-t9) + "vw";
          ]]]  
      - background: |
          [[[
              var t0 = states[variables.entity]?.attributes?.hourly_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.hourly_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.hourly_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.hourly_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.hourly_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.hourly_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.hourly_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.hourly_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.hourly_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.hourly_forecast?.[9]?.native_temperature*1;
              if ((variables.weizhi=='t0' && t0==t1 )||
                  (variables.weizhi=='t1' && t1==t2 )||
                  (variables.weizhi=='t2' && t2==t3 )||
                  (variables.weizhi=='t3' && t3==t4 )||
                  (variables.weizhi=='t4' && t4==t5 )||
                  (variables.weizhi=='t5' && t5==t6 )||
                  (variables.weizhi=='t6' && t6==t7 )||
                  (variables.weizhi=='t7' && t7==t8 )||
                  (variables.weizhi=='t8' && t8==t9 ))  return 'rgb(255,165,0)';
              if ((variables.weizhi=='t0' && t0>t1 )||
                  (variables.weizhi=='t1' && t1>t2 )||
                  (variables.weizhi=='t2' && t2>t3 )||
                  (variables.weizhi=='t3' && t3>t4 )||
                  (variables.weizhi=='t4' && t4>t5 )||
                  (variables.weizhi=='t5' && t5>t6 )||
                  (variables.weizhi=='t6' && t6>t7 )||
                  (variables.weizhi=='t7' && t7>t8 )||
                  (variables.weizhi=='t8' && t8>t9 ))
                  return 'linear-gradient(to bottom left, rgb(0,0,0,0) calc(50% - 0.5px), rgb(255,165,0) 0, rgb(255,165,0) calc(50% + 0.5px), rgb(0,0,0,0) 0)';
              if ((variables.weizhi=='t0' && t0<t1 )||
                  (variables.weizhi=='t1' && t1<t2 )||
                  (variables.weizhi=='t2' && t2<t3 )||
                  (variables.weizhi=='t3' && t3<t4 )||
                  (variables.weizhi=='t4' && t4<t5 )||
                  (variables.weizhi=='t5' && t5<t6 )||
                  (variables.weizhi=='t6' && t6<t7 )||
                  (variables.weizhi=='t7' && t7<t8 )||
                  (variables.weizhi=='t8' && t8<t9 ))
                  return 'linear-gradient(to bottom right, rgb(0,0,0,0) calc(50% - 0.5px), rgb(255,165,0) 0, rgb(255,165,0) calc(50% + 0.5px), rgb(0,0,0,0) 0)';
          ]]]  
      - margin-top: |
          [[[      
              var t0 = states[variables.entity]?.attributes?.hourly_forecast?.[0]?.native_temperature*1;
              var t1 = states[variables.entity]?.attributes?.hourly_forecast?.[1]?.native_temperature*1;
              var t2 = states[variables.entity]?.attributes?.hourly_forecast?.[2]?.native_temperature*1;
              var t3 = states[variables.entity]?.attributes?.hourly_forecast?.[3]?.native_temperature*1;
              var t4 = states[variables.entity]?.attributes?.hourly_forecast?.[4]?.native_temperature*1;
              var t5 = states[variables.entity]?.attributes?.hourly_forecast?.[5]?.native_temperature*1;
              var t6 = states[variables.entity]?.attributes?.hourly_forecast?.[6]?.native_temperature*1;
              var t7 = states[variables.entity]?.attributes?.hourly_forecast?.[7]?.native_temperature*1;
              var t8 = states[variables.entity]?.attributes?.hourly_forecast?.[8]?.native_temperature*1;
              var t9 = states[variables.entity]?.attributes?.hourly_forecast?.[9]?.native_temperature*1;
              var tm = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var max = Math.max(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var min = Math.min(t0,t1,t2,t3,t4,t5,t6,t7,t8,t9);
              var range = 24/(max-min);     
              if (variables.weizhi=='t0' )  return  range*(2*tm-t1-t0)+ "vw";
              if (variables.weizhi=='t1' )  return  range*(2*tm-t2-t1)+ "vw";
              if (variables.weizhi=='t2' )  return  range*(2*tm-t3-t2)+ "vw";
              if (variables.weizhi=='t3' )  return  range*(2*tm-t4-t3)+ "vw";
              if (variables.weizhi=='t4' )  return  range*(2*tm-t5-t4)+ "vw";
              if (variables.weizhi=='t5' )  return  range*(2*tm-t6-t5)+ "vw";
              if (variables.weizhi=='t6' )  return  range*(2*tm-t7-t6)+ "vw";
              if (variables.weizhi=='t7' )  return  range*(2*tm-t8-t7)+ "vw";
              if (variables.weizhi=='t8' )  return  range*(2*tm-t9-t8)+ "vw";
          ]]]
天气降雨量数值取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
        if (rain>0) return  rain+"mm";    
      ]]]
  styles:
    label:
      - font-size: 1.66vw
      - color: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return  variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";;
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]  
    card:
      - border-radius: 2vw
      - margin-left: 0.9vw
      - width: 8vw
      - height: 3vw
      - background: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return  variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(0,0,0)";;
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]   
      - border: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0)  return  '1.5px solid rgb(0,255,255)';
              else return '0px solid'; 
          ]]]  
天气降雨量取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  styles: 
    card:
      - padding: 0 0 0 0
      - border-radius: 0
      - border-width: 0
      - width: 9.2vw
      - margin-top: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if (rain >0 && rain <= 20)  return 30-rain*1.5+'vw'; 
              if (rain >20 ) return '0vw'; 
          ]]]  
      - height: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if (rain >0 && rain <= 20)  return rain*1.5+'vw'; 
              if (rain >20 ) return '30vw'; 
          ]]]  
      - background: |
          [[[  
              var rain = states[variables.entity]?.attributes?.daily_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return 'rgb(0,255,255)';
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]    
天气小时降雨量数值取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  show_label: true
  label: |
    [[[
        var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
        if (rain>0) return  rain+"mm";    
      ]]]
  styles:
    label:
      - font-size: 1.66vw
      - color: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return  variables.主题 == "on" ? "rgb(0,0,0)" : "rgb(255,255,255)";;
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]  
    card:
      - border-radius: 2vw
      - margin-left: 0.9vw
      - width: 8vw
      - height: 3vw
      - background: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return  variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(0,0,0)";;
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]   
      - border: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0)  return  '1.5px solid rgb(0,255,255)';
              else return '0px solid'; 
          ]]]  
天气小时降雨量取数模板:
  triggers_update:
    - '[[[ return variables.entity ]]]'
  styles: 
    card:
      - padding: 0 0 0 0
      - border-radius: 0
      - border-width: 0
      - width: 9.2vw
      - margin-top: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if (rain >0 && rain <= 2)  return 30-rain*15+'vw'; 
              if (rain >2 ) return '0vw'; 
          ]]]  
      - height: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if (rain >0 && rain <= 2)  return rain*15+'vw'; 
              if (rain >2 ) return '30vw'; 
          ]]]  
      - background: |
          [[[  
              var rain = states[variables.entity]?.attributes?.hourly_forecast?.[variables.weizhi]?.native_precipitation ?? "";
              if ( rain>0 ) return 'rgb(0,255,255)';
              if ( rain==0) return 'rgb(0,0,0,0)'; 
          ]]]    