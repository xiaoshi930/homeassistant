空气炸锅卡片:
  triggers_update:
    - '[[[ return variables.空气炸锅 ?? "" ]]]'
    - '[[[ return variables.开始亨饪 ?? ""]]]'
    - '[[[ return variables.停止亨饪 ?? "" ]]]'
    - '[[[ return variables.暂停亨饪 ?? "" ]]]'
    - '[[[ return variables.继续亨饪 ?? "" ]]]'
    - '[[[ return variables.剩余时间 ?? "" ]]]'
    - '[[[ return variables.工作时间 ?? "" ]]]'
    - '[[[ return variables.工作温度 ?? "" ]]]'
  styles: 
    grid:
      - grid-template-areas: >
          [[[
              window.空气炸锅亨饪颜色 = "rgb(255,106,106)";  
              window.空气炸锅预约颜色 = "rgb(255,165,79)";
              if(variables.空气炸锅 !="none"){
                  return `"背景 背景 背景 背景"
                          "名称 名称 状态 开关"
                          "图标 空白区域 主按钮区域1 主按钮区域1"
                          "图标 空白区域 主按钮区域2 主按钮区域2"
                          "图标 空白区域 主按钮区域3 主按钮区域3"`
              } 
               if(variables.空气炸锅 =="none"){
                  return `` 
              }  
          ]]]   
      - grid-template-columns: 13% 14% 61% 12%
      - grid-template-rows: 0 7.5vw 6.5vw 7.5vw 7.5vw
    card:
      - padding: 0
      - cursor: none
      - --mdc-ripple-press-opacity: 0
      - height: |
          [[[ 
              if( variables.空气炸锅 !="none") {
                return "calc(30vw + 8px);"
              } 
              else return "0";
          ]]]
      - display: |
          [[[
              if (variables.空气炸锅 == "none") {
                  return "none";
              }
          ]]]
  custom_fields: 
    背景:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 30vw
            - padding: 0
            - border-width: 0
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - border-radius: 3vw
            - height: 30vw
            - background: | 
                [[[
                    var state = states[variables.空气炸锅]?.state;
                    if(variables.主题=='off' && state =='烹饪中')  return "linear-gradient(90deg, "+空气炸锅亨饪颜色+" -50%, rgb(50,50,50)    50%)";
                    if(variables.主题=='on'  && state =='烹饪中')  return "linear-gradient(90deg, "+空气炸锅亨饪颜色+" -50%, rgb(255,255,255) 50%)";
                    if(variables.主题=='off' && state =='预约中')  return "linear-gradient(90deg, "+空气炸锅预约颜色+" -50%, rgb(50,50,50)    50%)";
                    if(variables.主题=='on'  && state =='预约中')  return "linear-gradient(90deg, "+空气炸锅预约颜色+" -50%, rgb(255,255,255) 50%)";
                    return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(50,50,50)";
                ]]]
    开关:
      card:
        type: custom:button-card
        tap_action:
          action: call-service
          service: button.press
          data: {}
          target:
            entity_id: '[[[ return  variables.停止亨饪 ?? ""]]]'
        show_name: false
        show_icon: true
        icon: |
          [[[ 
              var state = states[variables.空气炸锅]?.state;      
              if( state =='烹饪中')  return "mdi:toggle-switch";
              if( state =='预约中')  return "mdi:toggle-switch";
              return "mdi:toggle-switch-off";
          ]]]
        styles:
          card:
            - cursor: none
            - --mdc-ripple-press-opacity: 0.2
            - padding: 0
            - border-radius: 2vw
            - width: 8vw
            - height: 8vw
            - border-width: 0
            - background: rgb(0,0,0,0)
          icon:
            - width: 8vw
            - height: 8vw
            - color: |
                [[[
                    var state = states[variables.空气炸锅]?.state;
                    if( state =='烹饪中') return 空气炸锅亨饪颜色;
                    if( state =='预约中') return 空气炸锅预约颜色;
                    return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";
                ]]]
    图标:
      card:
        type: custom:button-card
        show_icon: true
        icon: |
          [[[ 
              var state = states[variables.空气炸锅]?.state;      
              if( state =='烹饪中')  return "mdi:fan";
              if( state =='预约中')  return "mdi:fan";
              return "mdi:fan-off";  
          ]]] 
        styles:
          card:
            - padding: 0
            - border-radius: 0
            - width: 20vw 
            - height: 20vw
            - margin-left: '-2vw'
            - border-width: 0
            - background: rgb(0,0,0,0)
          icon: 
            - color: |
                [[[
                    var state = states[variables.空气炸锅]?.state;
                    if( state =='烹饪中') return 空气炸锅亨饪颜色;
                    if( state =='预约中') return 空气炸锅预约颜色;
                    return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";
                ]]]
            - animation: |
                [[[ 
                    var state = states[variables.空气炸锅]?.state;
                    if( state =='烹饪中')  return "rotating 1.5s linear infinite";
                    if( state =='预约中')  return "rotating 1.5s linear infinite";
                    return "";   
                ]]]
    名称:
      card:
        type: custom:button-card
        show_label: true
        label: '[[[ return states[variables.空气炸锅]?.attributes?.friendly_name ?? "名称"]]]'
        styles:
          card:
            - padding: 0 
            - border-radius: 0
            - width: 50vw
            - margin-left: 2.5vw  
            - border-width: 0
            - background: rgb(0,0,0,0)
          label:
            - justify-self: start
            - font-size: 4vw
            - font-weight: bold
            - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
    状态:
      card:
        type: custom:button-card 
        label: |
          [[[ 
              var state = states[variables.空气炸锅]?.state;
              var time = states[variables.剩余时间]?.state
              var worktemp = states[variables.工作温度]?.state
              if( state == "烹饪中") return state+": 温度: "+worktemp+" 剩余时间: "+time+"min";   
              if( state == "预约中") return state+": 温度: "+worktemp+" 剩余时间: "+time+"min";   
              return state ? state : "离线";  
          ]]]
        show_label: true
        styles: 
          card:
            - padding: 0
            - border-radius: 0
            - border-width: 0
            - background: rgb(0,0,0,0)
          label:
            - justify-self: start 
            - font-size: 3vw
            - font-weight: bold
            - margin-top: 0.5vw
            - margin-left: 0vw
            - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
    主按钮区域1:
      card:
        type: custom:button-card
        styles:
          card:
            - cursor: none
            - border-width: 0
            - background: rgb(0,0,0,0)
          grid: 
            - grid-template-areas: |
                "a 减1 数值1 加1 b 减2 数值2 加2 c"
            - grid-template-columns: 2% 12% 20% 12% 8% 12% 20% 12% 2%
            - grid-template-rows: 100%
        custom_fields:
          数值1: 
            card:
              type: custom:button-card
              show_label: true
              label: |
                [[[ 
                    var worktime = states[variables.工作时间]?.state;
                    return worktime+"min"; 
                ]]]
              styles:
                card:
                  - padding: 0
                  - border-radius: 0
                  - width: 12.21vw
                  - height: 6vw
                  - margin-left: 0vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
                label:
                  - font-size: 3.5vw
                  - font-weight: bold
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
          减1:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:minus
              styles:
                icon:
                  - width: 7.92vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - width: 8vw
                  - height: 6vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: number.set_value
                data:
                  value: '[[[ return  states[variables.工作时间]?.state-1 ]]]'
                target:
                  entity_id: '[[[ return  variables.工作时间 ?? ""]]]'
          加1:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:plus
              styles:
                icon:
                  - width: 7.92vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - width: 8vw
                  - height: 6vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: number.set_value
                data:
                  value: '[[[ return  states[variables.工作时间]?.state-(-1) ]]]'
                target:
                  entity_id: '[[[ return  variables.工作时间 ?? ""]]]'
          数值2: 
            card:
              type: custom:button-card
              show_label: true
              label: |
                [[[ 
                    var worktemp = states[variables.工作温度]?.state;
                    return worktemp+"°C"; 
                ]]]
              styles:
                card:
                  - padding: 0
                  - border-radius: 0
                  - width: 12.21vw
                  - height: 6vw
                  - margin-left: 0vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
                label:
                  - font-size: 3.5vw
                  - font-weight: bold
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
          减2:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:minus
              styles:
                icon:
                  - width: 7.92vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - width: 8vw
                  - height: 6vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: number.set_value
                data:
                  value: '[[[ return  states[variables.工作温度]?.state-5 ]]]'
                target:
                  entity_id: '[[[ return  variables.工作温度 ?? ""]]]'
          加2:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:plus
              styles:
                icon:
                  - width: 7.92vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - width: 8vw
                  - height: 6vw
                  - border-width: 0
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: number.set_value
                data:
                  value: '[[[ return  states[variables.工作温度]?.state-(-5) ]]]'
                target:
                  entity_id: '[[[ return  variables.工作温度 ?? ""]]]'
    主按钮区域2:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                'b1 b2 b3' 
            - grid-template-columns: 33.33% 33.33% 33.33% 
            - grid-template-rows: 100%
          card:
            - cursor: none
            - width: 66vw
            - padding: 0
            - border-radius: 0
        custom_fields:
          b1:
            card:
              type: custom:button-card
              template: 空气炸锅按钮2样式模板
              icon: mdi:power
              name: 关闭 
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target:
                  entity_id: '[[[ return  variables.停止亨饪 ?? ""]]]'
          b2:
            card:
              type: custom:button-card
              template: 空气炸锅按钮2样式模板
              icon: mdi:pause
              name: 暂停
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target:
                  entity_id: '[[[ return  variables.暂停亨饪 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              template: 空气炸锅按钮2样式模板
              icon: mdi:play
              name: 继续
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: button.press
                data: {}
                target:
                  entity_id: '[[[ return  variables.继续亨饪 ?? ""]]]'
    主按钮区域3:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                'b1 b2 b3 b4 b5 b6' 
            - grid-template-columns: 16.67% 16.67% 16.67% 16.67% 16.67% 16.67% 
            - grid-template-rows: 100%
          card:
            - cursor: none
            - width: 66vw
            - padding: 0
            - border-radius: 0
        custom_fields:
          b1:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:gesture-double-tap
              name: 手动 
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: |
                    [[[
                        var worktemp = states[variables.工作温度]?.state;
                        var worktime = states[variables.工作时间]?.state;
                        return "[M0,手动,"+worktemp+","+worktime+",0,0,0]"
                    ]]]
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
          b2:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:french-fries
              name: 薯条
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: "[M1,薯条,15,200,0,0,0]"
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
          b3:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:baguette
              name: 鸡翅
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: "[M2,鸡翅,15,180,0,0,0]"
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
          b4:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:peanut
              name: 红薯
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: "[M3,红薯,30,200,0,0,0]"
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
          b5:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:cake-variant
              name: 蛋糕
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: "[M4,蛋糕,30,160,0,0,0]"
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
          b6:
            card:
              type: custom:button-card
              template: 空气炸锅按钮3样式模板
              icon: mdi:snowflake-off
              name: 解冻
              variables:
                主题: '[[[ return variables.主题 ?? ""]]]'
              tap_action:
                action: call-service
                service: text.set_value
                data:
                  value: "[M4,蛋解冻糕,15,40,0,0,0]"
                target:
                  entity_id: '[[[ return  variables.开始亨饪 ?? ""]]]'
空气炸锅按钮2样式模板:
  triggers_update:
    - '[[[ return variables.开始亨饪 ]]]'
    - '[[[ return variables.停止亨饪 ]]]'
    - '[[[ return variables.暂停亨饪 ]]]'
    - '[[[ return variables.继续亨饪 ]]]'
    - '[[[ return variables.剩余时间 ]]]'
    - '[[[ return variables.空气炸锅 ]]]'
    - '[[[ return variables.工作时间 ]]]'
    - '[[[ return variables.工作温度 ]]]'
  layout: icon_name
  show_icon: true 
  show_name: true 
  styles: 
    card:
      - cursor: none
      - --mdc-ripple-press-opacity: 0.2
      - width: 21vw
      - height: 6vw
      - border-radius: 1.5vw 
      - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
    name:
      - color: rgb(255,255,255)
      - font-size: 0.9vh
      - margin-left: -4vw
      - font-weight: bold
    icon:
      - width: 3vw
      - height: 3vw
      - margin-left: 6vw
      - color: rgb(255,255,255)
空气炸锅按钮3样式模板:
  triggers_update:
    - '[[[ return variables.开始亨饪 ?? ""]]]'
    - '[[[ return variables.停止亨饪 ?? ""]]]'
    - '[[[ return variables.暂停亨饪 ?? ""]]]'
    - '[[[ return variables.继续亨饪 ?? ""]]]'
    - '[[[ return variables.剩余时间 ?? ""]]]'
    - '[[[ return variables.空气炸锅 ?? ""]]]'
    - '[[[ return variables.工作时间 ?? ""]]]'
    - '[[[ return variables.工作温度 ?? ""]]]'
  layout: icon_name
  show_icon: true 
  show_name: true 
  styles: 
    card:
      - cursor: none
      - --mdc-ripple-press-opacity: 0.2
      - width: 10.1vw
      - height: 6vw
      - border-radius: 1.5vw 
      - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
    name:
      - color: rgb(255,255,255)
      - font-size: 0.9vh
      - margin-left: -2vw
      - font-weight: bold
    icon:
      - width: 3vw
      - height: 3vw
      - margin-left: 0vw
      - color: rgb(255,255,255)
