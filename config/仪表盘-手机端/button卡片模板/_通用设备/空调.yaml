空调卡片:
  triggers_update:
    - '[[[ return variables.空调 ?? ""]]]'
    - '[[[ return variables.辅热 ?? ""]]]'
    - '[[[ return variables.干燥 ?? ""]]]'
    - '[[[ return variables.节能 ?? ""]]]'
    - '[[[ return variables.睡眠 ?? ""]]]'
    - '[[[ return variables.指示灯 ?? ""]]]'
    - '[[[ return variables.提示音 ?? ""]]]'
  styles:
    grid:
      - grid-template-areas: > 
          [[[
              window.空调制冷颜色 = "rgb(33,150,243)";  
              window.空调制热颜色 = "rgb(254,111,33)"
              window.空调干燥颜色 = "rgb(255,151,0)"
              window.空调吹风颜色 = "rgb(0,188,213)"
              window.空调警告颜色 = "rgb(255,20,0)";
              if(variables.空调 !="none"){
                  return `"背景 背景 背景 背景"
                          "名称 名称 状态 开关"
                          "图标 加减按钮 主按钮区域 主按钮区域"
                          "图标 加减按钮 风力按钮 风力按钮"
                          "图标 加减按钮 风向按钮 风向按钮"
                          "图标 加减按钮 副按钮区域 副按钮区域"
                          "图标 加减按钮 副按钮文字 副按钮文字"
                          "空白行 空白行 空白行 空白行"
                          "曲线图 曲线图 曲线图 曲线图"`
              } 
               if(variables.空调 =="none"){
                  return ``  
              }
          ]]] 
      - grid-template-columns: 13% 14% 61% 12%
      - grid-template-rows: 0 0 0 0 0 0 0 27.5vw 12.5vw
    card:
      - padding: 0
      - cursor: none
      - --mdc-ripple-press-opacity: 0
      - height: |
          [[[ 
              if( variables.空调 !="none") {
                return "calc(40vw + 8px);"
              } 
              else return "0";
          ]]]
      - display: |
          [[[
              if (variables.空调 == "none") {
                  return "none";
              }
          ]]]
  custom_fields:
    背景:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 40vw
            - padding: 0
            - border-width: 0
            - border-radius: 0
            - cursor: none
            - --mdc-ripple-press-opacity: 0
            - border-radius: 3vw
            - height: 40vw
            - background: |
                [[[
                    var state = states[variables.空调]?.state;
                    if( variables.主题=='off' && state =='cool')     return "linear-gradient(90deg, "+空调制冷颜色+" -50%,rgb(50,50,50) 50%)";
                    if( variables.主题=='off' && state =='heat')     return "linear-gradient(90deg, "+空调制热颜色+" -50%,rgb(50,50,50) 50%)";
                    if( variables.主题=='off' && state =='dry')      return "linear-gradient(90deg, "+空调干燥颜色+" -50%,rgb(50,50,50) 50%)";
                    if( variables.主题=='off' && state =='fan_only') return "linear-gradient(90deg, "+空调吹风颜色+" -50%,rgb(50,50,50) 50%)";
                    if( variables.主题=='off' && state =='off')      return "rgb(50,50,50)"; 
                    if( variables.主题=='on'  && state =='cool')     return "linear-gradient(90deg, "+空调制冷颜色+" -50%,rgb(255,255,255) 50%)";
                    if( variables.主题=='on'  && state =='heat')     return "linear-gradient(90deg, "+空调制热颜色+" -50%,rgb(255,255,255) 50%)";
                    if( variables.主题=='on'  && state =='dry')      return "linear-gradient(90deg, "+空调干燥颜色+" -50%,rgb(255,255,255) 50%)";
                    if( variables.主题=='on'  && state =='fan_only') return "linear-gradient(90deg, "+空调吹风颜色+" -50%,rgb(255,255,255) 50%)";
                    if( variables.主题=='on'  && state =='off')      return "rgb(255,255,255)";
                    return variables.主题 == "on" ? "rgb(255,255,255)" : "rgb(50,50,50)";
                ]]] 
    曲线图:
      card:
        type: custom:mini-graph-card
        tap_action:
          action: none
        hold_action:
          action: none
        line_width: 1
        hours_to_show: 24
        smoothing: true
        height: 50
        show:
          name: false
          icon: false
          state: false
          legend: false
          loading_indicator: false
        cache: true
        entities:
          - entity: '[[[ return variables.空调 ?? "" ]]]'
            attribute: current_temperature
            color: |
              [[[   
                  var state = states[variables.空调]?.state;
                  if( state =='cool')     return 空调制冷颜色;
                  if( state =='heat')     return 空调制热颜色;
                  if( state =='dry')      return 空调干燥颜色;
                  if( state =='fan_only') return 空调吹风颜色;
                  if( state =='auto')     return 空调制冷颜色;
                  if( state =='off')      return 空调制冷颜色;
                  return 空调制冷颜色;
              ]]]
    名称:
      card:
        type: custom:button-card
        show_label: true
        label: '[[[ return states[variables.空调]?.attributes?.friendly_name ?? "名称"]]]'
        styles:
          card:
            - margin-top: 8.25vw
            - padding: 0
            - border-width: 0
            - border-radius: 0
            - width: 50vw
            - margin-left: 2.5vw
            - background: rgb(0,0,0,0)
          label:
            - justify-self: start
            - font-size: 4vw
            - font-weight: bold
            - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
    状态:
      card:
        type: custom:button-card
        label: |
          [[[ 
              var state = states[variables.空调]?.state;
              var temp = states[variables.空调]?.attributes?.current_temperature ?? "-";
              if( state =='cool')     return "制冷: "+temp+"<font size='1px'><b>°C </b></font>";
              if( state =='heat')     return "制热: "+temp+"<font size='1px'><b>°C </b></font>";
              if( state =='dry')      return "除湿: "+temp+"<font size='1px'><b>°C </b></font>";
              if( state =='fan_only') return "送风: "+temp+"<font size='1px'><b>°C </b></font>";
              if( state =='auto')     return "自动: "+temp+"<font size='1px'><b>°C </b></font>";
              if( state =='off')      return "关闭: "+temp+"<font size='1px'><b>°C </b></font>";
              return "离线";
          ]]]
        show_label: true
        styles: 
          card:
            - margin-top: 8.25vw
            - padding: 0
            - border-radius: 0
            - border-width: 0 
            - background: rgb(0,0,0,0)
          label:
            - justify-self: start
            - font-size: 3vw
            - font-weight: bold
            - margin-top: 0.5vw
            - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
    开关:
      card:
        type: custom:button-card
        entity: '[[[ return variables.空调 ?? ""]]]'
        tap_action:
          action: toggle
        show_name: false
        show_icon: true
        icon: |
          [[[
              var state = states[variables.空调]?.state;
              if( state =='cool')     return "mdi:toggle-switch";
              if( state =='heat')     return "mdi:toggle-switch";
              if( state =='dry')      return "mdi:toggle-switch";
              if( state =='fan_only') return "mdi:toggle-switch";
              if( state =='auto')     return "mdi:toggle-switch";
              if( state =='off')      return "mdi:toggle-switch-off";
              return "mdi:toggle-switch-off";
          ]]]
        styles:
          card:
            - margin-top: 8.25vw
            - cursor: none
            - --mdc-ripple-press-opacity: 0.2
            - padding: 0
            - border-radius: 2vw
            - border-width: 0
            - width: 8vw
            - height: 8vw
            - background: rgb(0,0,0,0)
          icon:
            - width: 8vw
            - height: 8vw
            - color: |
                [[[
                    var state = states[variables.空调]?.state;
                    if( state =='cool')     return 空调制冷颜色;
                    if( state =='heat')     return 空调制热颜色;
                    if( state =='dry')      return 空调干燥颜色;
                    if( state =='fan_only') return 空调吹风颜色;
                    return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";
                ]]]
    图标:
      card:
        type: custom:button-card
        show_icon: true
        icon: |
          [[[ 
              var state = states[variables.空调]?.state;
              if( state =='cool')        return "mdi:fan";
              if( state =='heat')        return "mdi:fan";
              if( state =='dry')         return "mdi:fan";
              if( state =='fan_only')    return "mdi:fan";
              if( state =='off')         return "mdi:fan-off";
              return "mdi:fan-off";
          ]]] 
        styles:
          card:
            - margin-top: 40vw
            - padding: 0
            - border-radius: 0
            - border-width: 0
            - width: 20vw
            - height: 20vw
            - margin-left: '-2vw'
            - background: rgb(0,0,0,0)
          icon:
            - color: |
                [[[
                    var state = states[variables.空调]?.state;
                    if( state =='cool')     return 空调制冷颜色;
                    if( state =='heat')     return 空调制热颜色;
                    if( state =='dry')      return 空调干燥颜色;
                    if( state =='fan_only') return 空调吹风颜色;
                    return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";
                ]]]
            - animation: |
                [[[ 
                    var state = states[variables.空调]?.state;
                    if( state =='cool')        return "rotating 1.5s linear infinite";
                    if( state =='heat')        return "rotating 1.5s linear infinite";
                    if( state =='dry')         return "rotating 1.5s linear infinite";
                    if( state =='fan_only')    return "rotating 1.5s linear infinite";
                    if( state =='off')         return "";     
                    return "";          
                ]]]
    加减按钮:
      card:
        type: custom:button-card
        styles:
          card:
            - margin-top: 40vw
            - padding: 0 0 0 3vw
            - height: 20vw
            - cursor: none 
            - border-width: 0
            - border-radius: 0
            - background: rgb(0,0,0,0)
          grid:
            - grid-template-areas: |
                "减" "数值" "加"
            - grid-template-columns: 100%
            - grid-template-rows: 33% 33% 33%
        custom_fields:
          数值:
            card:
              type: custom:button-card
              show_label: true
              label: '[[[ return states[variables.空调]?.attributes?.temperature + "°" ]]]'
              styles:
                card:
                  - padding: 0
                  - border-radius: 0
                  - border-width: 0
                  - width: 8vw
                  - height: 6vw
                  - background: rgb(0,0,0,0)
                label:
                  - font-size: 3.5vw
                  - font-weight: bold
                  - overflow: visible
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
          减:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:minus
              styles:
                icon:
                  - width: 6vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - border-width: 0
                  - width: 8vw
                  - height: 6vw
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: climate.set_temperature
                data:
                  temperature: '[[[ return states[variables.空调]?.attributes?.temperature-1 ]]]'
                target:
                  entity_id: '[[[ return variables.空调 ?? ""]]]'
          加:
            card:
              type: custom:button-card
              show_icon: true
              icon: mdi:plus
              styles:
                icon:
                  - width: 6vw
                  - height: 6vw
                  - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
                card:
                  - cursor: none
                  - --mdc-ripple-press-opacity: 0.2
                  - padding: 0
                  - border-radius: 2vw
                  - border-width: 0
                  - width: 8vw
                  - height: 6vw
                  - background: rgb(0,0,0,0)
              tap_action:
                action: call-service
                service: climate.set_temperature
                data:
                  temperature: ' [[[ return states[variables.空调]?.attributes?.temperature-(-1) ]]]'
                target:
                  entity_id: '[[[ return variables.空调 ?? ""]]]'
    主按钮区域:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                "mode1 mode2 mode3 mode4 mode5"
            - grid-template-rows: 100%
            - grid-auto-columns: minmax(0, 1fr)
            - grid-auto-flow: column
          card:
            - margin-top: 25vw
            - cursor: none
            - width: 66.5vw
            - padding: 0 
            - border-radius: 0
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields: 
          mode1:
            card:
              type: custom:button-card
              icon: mdi:thermostat-auto
              template: 空调模式按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                hvac_mode: auto
          mode2: 
            card:
              type: custom:button-card
              icon: mdi:fire
              template: 空调模式按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                hvac_mode: heat
          mode3: 
            card:
              type: custom:button-card
              icon: mdi:snowflake
              template: 空调模式按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                hvac_mode: cool
          mode4:
            card:
              type: custom:button-card
              icon: mdi:water-percent
              template: 空调模式按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                hvac_mode: dry
          mode5:
            card:
              type: custom:button-card
              icon: mdi:fan
              template: 空调模式按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                hvac_mode: fan_only
    风力按钮:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                "fan0 fan1 fan2 fan3 fan4 fan5 fan6 fan7"
            - grid-template-rows: 100%
            - grid-auto-columns: minmax(0, 1fr)
            - grid-auto-flow: column
          card:
            - margin-top: 40vw
            - cursor: none  
            - width: 66vw
            - padding: 0
            - border-radius: 0
            - background: rgb(0,0,0,0)
            - border-width: 0
        custom_fields:
          fan0:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 自动
                num: A
          fan1:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位一
                num: 1
          fan2:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位二
                num: 2
          fan3:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位三
                num: 3
          fan4:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位四
                num: 4
          fan5:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位五
                num: 5
          fan6:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位六
                num: 6
          fan7:
            card:
              type: custom:button-card
              template: 空调风力按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                fan_mode: 档位七
                num: 7
    风向按钮:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                "swing1 swing2 swing3 swing4"
            - grid-template-rows: 100%
            - grid-auto-columns: minmax(0, 1fr)
            - grid-auto-flow: column
          card:
            - margin-top: 55vw
            - cursor: none  
            - width: 66vw
            - padding: 0
            - border-radius: 0
            - background: rgb(0,0,0,0)
            - border-width: 0
        custom_fields:
          swing1: 
            card:
              type: custom:button-card
              icon: mdi:arrow-oscillating-off
              template: 空调风向按钮样式
              variables: 
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                swing_mode: 'off' 
          swing2:
            card:
              type: custom:button-card
              icon: mdi:arrow-up-down
              template: 空调风向按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                swing_mode: vertical
          swing3:
            card:
              type: custom:button-card
              icon: mdi:arrow-left-right
              template: 空调风向按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                swing_mode: horizontal
          swing4:
            card:  
              type: custom:button-card
              icon: mdi:arrow-all
              template: 空调风向按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                swing_mode: both
    副按钮区域:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                "info1 info2 info3 info4 info5 info6"
            - grid-template-rows: 100%
            - grid-auto-columns: minmax(0, 1fr)
            - grid-auto-flow: column
          card:
            - margin-top: 67.5vw
            - cursor: none  
            - width: 66vw
            - padding: 0
            - border-radius: 0
            - border-width: 0
            - background: rgb(0,0,0,0)
        custom_fields:
          info1: 
            card:
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.辅热 ?? ""]]]'
          info2:
            card:
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.干燥 ?? ""]]]'
          info3:
            card:
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.节能 ?? ""]]]'
          info4:
            card:  
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.睡眠 ?? ""]]]'
          info5:
            card:  
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.指示灯 ?? ""]]]'
          info6:
            card:  
              type: custom:button-card
              template: 空调副按钮样式
              variables:
                空调: '[[[ return variables.空调 ?? ""]]]'
                主题: '[[[ return variables.主题 ?? ""]]]'
                info: '[[[ return variables.提示音 ?? ""]]]'
    副按钮文字:
      card:
        type: custom:button-card
        tap_action:
          action: none
        hold_action:
          action: none
        styles:
          grid:
            - grid-template-areas: |
                "info1 info2 info3 info4 info5 info6"
            - grid-template-rows: 100%
            - grid-auto-columns: minmax(0, 1fr)
            - grid-auto-flow: column
          card:
            - margin-top: 75vw
            - cursor: none  
            - width: 66vw
            - padding: 0
            - border-radius: 0
            - border-width: 0
            - font-size: 1.1vh
            - color: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)"; ]]]'
            - background: rgb(0,0,0,0)
        custom_fields:
          info1: |
            [[[
                var heater = states[variables.辅热]?.state;
                if( heater =='on' || heater =='off')  return "辅热";
                else return "";
            ]]]
          info2: |
            [[[
                var dryer = states[variables.干燥]?.state;
                if( dryer =='on' || dryer =='off')  return "干燥";
                else return "";
            ]]]
          info3: |
            [[[
                var eco = states[variables.节能]?.state;
                if( eco =='on' || eco =='off')  return "节能";
                else return "";
            ]]]
          info4: |
            [[[
                var sleep = states[variables.睡眠]?.state;
                if( sleep =='on' || sleep =='off')  return "睡眠";
                else return "";
            ]]]
          info5: |
            [[[
                var light = states[variables.指示灯]?.state;
                if( light =='on' || light =='off')  return "指示灯";
                else return "";
            ]]]
          info6: |
            [[[
                var alarm = states[variables.提示音]?.state;
                if( alarm =='on' || alarm =='off')  return "提示音";
                else return "";
            ]]]
  
空调模式按钮样式:
  triggers_update:
    - '[[[ return variables.空调 ?? ""]]]'
  show_icon: true
  styles:
    card:
      - cursor: none
      - --mdc-ripple-press-opacity: 0.2
      - width: 11.6vw
      - height: 6vw
      - border-radius: 1.5vw
      - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
    icon:
      - width: 4vw
      - height: 4vw
      - color: |
          [[[
              var hvac_modes = states[variables.空调]?.attributes?.swing_mode;
              var state = states[variables.空调]?.state;  
              if( state =='cool'    && state ==variables.hvac_mode)  return 空调制冷颜色;
              if( state =='heat'    && state ==variables.hvac_mode)  return 空调制热颜色;
              if( state =='dry'     && state ==variables.hvac_mode)  return 空调干燥颜色;
              if( state =='fan_only'&& state ==variables.hvac_mode)  return 空调吹风颜色;         
              return "rgb(255,255,255)";
          ]]]    
  tap_action:
    action: call-service
    service: climate.set_hvac_mode
    data:
      hvac_mode: '[[[ return variables.hvac_mode ]]]'
    target: 
      entity_id: '[[[ return  variables.空调 ?? ""]]]'

空调风力按钮样式:
  hold_action:
    action: none
  triggers_update:
    - '[[[ return variables.空调 ]]]'
  show_icon: true
  icon: mdi:fan
  styles:
    card:
      - cursor: none
      - --mdc-ripple-press-opacity: 0.2
      - width: 7vw
      - height: 6vw
      - border-radius: 1.5vw
      - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
    icon:
      - width: 3vw
      - height: 3vw
      - color: |
          [[[
              var fan_mode = states[variables.空调]?.attributes?.fan_mode;
              var state = states[variables.空调]?.state;
              if( state =='cool'    && fan_mode ==variables.fan_mode) return 空调制冷颜色;
              if( state =='heat'    && fan_mode ==variables.fan_mode) return 空调制热颜色;
              if( state =='dry'     && fan_mode ==variables.fan_mode) return 空调干燥颜色;
              if( state =='fan_only'&& fan_mode ==variables.fan_mode) return 空调吹风颜色;         
              return "rgb(255,255,255)";
          ]]] 
    custom_fields:
      num:
        - position: absolute
        - font-weight: bold
        - font-size: 1.4vw
        - margin-top: 1.5vw
        - margin-left: 3.8vw
        - width: 1.6vw
        - height: 1.5vw
        - border-radius: 0.5vw
        - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
        - color: |
            [[[
                var fan_mode = states[variables.空调]?.attributes?.fan_mode;
                var state = states[variables.空调]?.state;  
                if( state =='cool'    && fan_mode ==variables.fan_mode) return 空调制冷颜色;
                if( state =='heat'    && fan_mode ==variables.fan_mode) return 空调制热颜色;
                if( state =='dry'     && fan_mode ==variables.fan_mode) return 空调干燥颜色;
                if( state =='fan_only'&& fan_mode ==variables.fan_mode) return 空调吹风颜色;       
                return "rgb(255,255,255)";
            ]]]
  custom_fields:
    num: '[[[ return  variables.num ?? ""]]]'
  tap_action:
    action: call-service
    service: climate.set_fan_mode
    data:
      fan_mode: '[[[ return variables.fan_mode ]]]'
    target:
      entity_id: '[[[ return variables.空调 ?? ""]]]'
空调风向按钮样式:
  triggers_update:
    - '[[[ return variables.空调 ?? ""]]]'
  show_icon: true
  icon: '[[[ return  variables.icon ?? ""]]]'
  styles:
    card:
      - cursor: none 
      - --mdc-ripple-press-opacity: 0.2
      - width: 15.2vw
      - height: 6vw
      - border-radius: 1.5vw
      - background: '[[[ return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(120,120,120)"; ]]]'
    icon:  
      - color: | 
          [[[
              var swing_mode = states[variables.空调]?.attributes?.swing_mode;
              var state = states[variables.空调]?.state;  
              if( state =='cool'    && swing_mode ==variables.swing_mode) return 空调制冷颜色;
              if( state =='heat'    && swing_mode ==variables.swing_mode) return 空调制热颜色;
              if( state =='dry'     && swing_mode ==variables.swing_mode) return 空调干燥颜色;
              if( state =='fan_only'&& swing_mode ==variables.swing_mode) return 空调吹风颜色;            
              return "rgb(255,255,255)";
          ]]]
  tap_action:
    action: call-service
    service: climate.set_swing_mode
    data:
      swing_mode: '[[[ return variables.swing_mode ]]]'
    target:
      entity_id: '[[[ return variables.空调 ?? ""]]]'
空调副按钮样式:
  triggers_update:
    - '[[[ return variables.空调 ?? ""]]]'
    - '[[[ return variables.辅热 ?? ""]]]'
    - '[[[ return variables.干燥 ?? ""]]]'
    - '[[[ return variables.节能 ?? ""]]]'
    - '[[[ return variables.睡眠 ?? ""]]]'
    - '[[[ return variables.指示灯 ?? ""]]]'
    - '[[[ return variables.提示音 ?? ""]]]'
  tap_action:
    action: toggle
  entity: '[[[ return  variables.info ?? ""]]]'
  show_icon: true
  show_name: false
  icon: |
    [[[
        var info = states[variables.info]?.state;
        if( info =='on')  return "mdi:toggle-switch";
        if( info =='off') return "mdi:toggle-switch-off";
        return "mdi:toggle-switch-off";
    ]]]
  styles:
    card:  
      - cursor: none 
      - --mdc-ripple-press-opacity: 0.2
      - width: 7vw
      - height: 7vw
      - margin-left: 2vw
      - margin-top: 0.5vw
      - border-radius: 3vw
      - border-width: 0
      - background: rgb(0,0,0,0)
    icon:   
      - width: 7vw
      - height: 7vw
      - color: | 
          [[[ 
              var state = states[variables.空调]?.state;  
              var info  = states[variables.info]?.state;      
              if( info =="on"  && state =='cool')     return 空调制冷颜色;
              if( info =="on"  && state =='heat')     return 空调制热颜色;
              if( info =="on"  && state =='dry')      return 空调干燥颜色;
              if( info =="on"  && state =='fan_only') return 空调吹风颜色;         
              if( info =="on"  && state =='off')      return 空调制冷颜色;   
              return variables.主题 == "on" ? "rgb(50,50,50)" : "rgb(255,255,255)";
          ]]]   