UIè¡¨å¤´_æ¹¿åº¦:     
  triggers_update:
    - '[[[ return number1 ?? ""]]]'  
    - '[[[ return number2 ?? ""]]]'  
    - '[[[ return switch1 ?? ""]]]'  
    - '[[[ return switch2 ?? ""]]]'  
  entity: '[[[ return variables.å®¤å¤–æ¹¿åº¦ ?? ""]]]' 
  layout: icon_state 
  icon: mdi:water-opacity
  show_state: true 
  show_name: false
  state_display: |
    [[[
        if (variables.å®¤å¤–æ¹¿åº¦.startsWith("sensor.weather")) {
          return states[variables.å®¤å¤–æ¹¿åº¦]?.attributes?.humidity + "%";
        }
        return states[variables.å®¤å¤–æ¹¿åº¦]?.state+"%";
    ]]]
  styles: 
    icon:
      - width: 3.8vw
      - height: 2vh
      - margin-left: 1vw
      - color: '[[[ return theme_color(0,255,0.9) ]]]' 
    state:
      - font-size: 1.25vh
      - width: 10vw
      - margin-left: -1.5vw
      - text-align: center
      - color: '[[[ return theme_color(0,255,0.9) ]]]' 
    card:
      - cursor: none
      - --mdc-ripple-press-opacity: 0.2  
      - padding: 0
      - background: '[[[ return theme_color(255,50,0.5) ]]]' 
      - border: '[[[ return theme_border(0,255,0.15) ]]]'
      - border-radius: 4vw
      - width: 16vw
      - height: 2.8vh
  tap_action: 
    action: fire-dom-event
    browser_mod:
      service: browser_mod.popup
      data:
        style: '[[[ return theme_none(); ]]]'
        content:
          type: vertical-stack
          cards:                                
            - type: custom:apexcharts-card
              card_mod:
                style: '[[[ return theme_apexcharts(); ]]]'
              config_templates: ç¯å¢ƒæ›²çº¿æ¨¡æ¿
              series:
                - entity: '[[[ return variables.å®¤å¤–æ¹¿åº¦ ?? ""]]]' 
                  name: ğŸ å®¤å¤–ä¼ æ„Ÿå™¨æ¹¿åº¦
                  color: '[[[ return æ¹¿åº¦é¢œè‰² ]]]'   
                  attribute: |
                    [[[
                        if (variables.å®¤å¤–æ¹¿åº¦.startsWith("sensor.weather")) {
                          return "humidity";
                        }
                        return "";
                    ]]]
                  unit: "%"    
                - entity:  | 
                    [[[ 
                        if (hass.user.name == name1) return weather1;
                        if (hass.user.name == name2) return weather2;
                    ]]]
                  attribute: humidity
                  name: | 
                    [[[
                        if (hass.user.name == name1) return 'ğŸ“'+name1+' æ¹¿åº¦';
                        if (hass.user.name == name2) return 'ğŸ“'+name2+' æ¹¿åº¦';
                    ]]]
                  unit: "%"               
                  color: '[[[ return æ¸©åº¦é¢œè‰² ]]]' 
            - type: custom:apexcharts-card
              card_mod:
                style: '[[[ return theme_apexcharts(); ]]]'
              config_templates: ç©ºæ°”è´¨é‡AQI
              series:
                - entity: '[[[ return weatherh ?? ""]]]'
                  attribute: aqi
                  name: ğŸ å®¤å¤–AQI
                - entity: | 
                    [[[
                        if (hass.user.name == name1) return weather1 ? weather1 : "";
                        if (hass.user.name == name2) return weather2 ? weather2 : "";
                    ]]]
                  attribute: aqi
                  name:  | 
                    [[[
                        if (hass.user.name == name1) return 'ğŸ“'+name1+' AQI';
                        if (hass.user.name == name2) return 'ğŸ“'+name2+' AQI';
                    ]]]